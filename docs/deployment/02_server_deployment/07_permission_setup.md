# AI ä¸­å° - æƒé™ç®¡ç†ç³»ç»Ÿæ¦‚è§ˆ

[![Ubuntu 24.04 LTS](https://img.shields.io/badge/Ubuntu-24.04%20LTS-E95420?style=flat-square&logo=ubuntu)](https://ubuntu.com/) [![Django 4.2](https://img.shields.io/badge/Django-4.2-092E20?style=flat-square&logo=django)](https://www.djangoproject.com/) [![JWT Auth](https://img.shields.io/badge/JWT-Authentication-000000?style=flat-square&logo=jsonwebtokens)](https://jwt.io/)

**éƒ¨ç½²é˜¶æ®µ**: ç¬¬äºŒé˜¶æ®µ - æœåŠ¡å™¨éƒ¨ç½²  
**é¢„è®¡æ—¶é—´**: 2-3å°æ—¶  
**éš¾åº¦çº§åˆ«**: â­â­â­â­  
**å‰ç½®è¦æ±‚**: [PostgreSQL](./05_database_deployment/01_postgresql_deployment.md) å’Œ [Redis](./05_database_deployment/04_redis_deployment.md) éƒ¨ç½²å®Œæˆ

## ğŸ“‹ è¯¦ç»†éƒ¨ç½²ä¸é…ç½®æ–‡æ¡£

æœ¬æ–‡æ¡£çš„è¯¦ç»†éƒ¨ç½²æŒ‡å—ã€é…ç½®è¯´æ˜ä»¥åŠå®‰å…¨ç®¡ç†æ–¹æ¡ˆåˆ†åˆ«ä½äº `07_permission_management` ç›®å½•ä¸‹çš„ä¸“é¢˜æ–‡æ¡£ä¸­ã€‚è¯·å‚è€ƒä»¥ä¸‹é“¾æ¥è·å–å…·ä½“ä¿¡æ¯ï¼š

- **æƒé™ç³»ç»Ÿæ¶æ„ä¸é…ç½®ï¼š**
    - [è®¤è¯ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ](./07_permission_management/01_authentication_architecture.md)
    - [Django ç”¨æˆ·è®¤è¯éƒ¨ç½²](./07_permission_management/02_django_user_auth.md)
    - [JWT ä»¤ç‰Œè®¤è¯é…ç½®](./07_permission_management/03_jwt_authentication.md)
    - [Django æƒé™ç³»ç»Ÿ](./07_permission_management/04_django_permissions.md)
    - [è§’è‰²æƒé™ç®¡ç† (RBAC)](./07_permission_management/05_role_based_access.md)
- **å®‰å…¨å¼ºåŒ–ä¸è¿ç»´ç®¡ç†ï¼š**
    - [API å®‰å…¨é…ç½®](./07_permission_management/06_api_security.md)
    - [æƒé™å®¡è®¡ä¸ç›‘æ§](./07_permission_management/07_audit_monitoring.md)
    - [éƒ¨ç½²éªŒè¯ä¸æµ‹è¯•](./07_permission_management/08_deployment_testing.md)

## ğŸ“Š éƒ¨ç½²æ¦‚è§ˆ

| ç»„ä»¶ | ç‰ˆæœ¬/æŠ€æœ¯ | ç”¨é€” | éƒ¨ç½²æ—¶é—´ | è¯¦ç»†æ–‡æ¡£ |
|------|----------|------|----------|----------|
| Django Auth | 4.2.x | ç”¨æˆ·è®¤è¯åŸºç¡€ | 30-45åˆ†é’Ÿ | [ç”¨æˆ·è®¤è¯](./07_permission_management/02_django_user_auth.md) |
| JWT è®¤è¯ | DRF-SimpleJWT | API ä»¤ç‰Œç®¡ç† | 20-30åˆ†é’Ÿ | [JWTè®¤è¯](./07_permission_management/03_jwt_authentication.md) |
| æƒé™æ§åˆ¶ | Django Permissions | æ¨¡å‹çº§æƒé™ | 30-45åˆ†é’Ÿ | [æƒé™ç³»ç»Ÿ](./07_permission_management/04_django_permissions.md) |
| RBAC è§’è‰² | è‡ªå®šä¹‰æ¨¡å‹ | è§’è‰²æƒé™ç®¡ç† | 30-45åˆ†é’Ÿ | [è§’è‰²ç®¡ç†](./07_permission_management/05_role_based_access.md) |
| API å®‰å…¨ | ä¸­é—´ä»¶+è£…é¥°å™¨ | æ¥å£å®‰å…¨é˜²æŠ¤ | 15-30åˆ†é’Ÿ | [APIå®‰å…¨](./07_permission_management/06_api_security.md) |

## ğŸ—ï¸ æŠ€æœ¯æ ˆä¸ç»„ä»¶æ¶æ„

AI ä¸­å°çš„æƒé™ç®¡ç†ç³»ç»ŸåŸºäºç°æœ‰çš„ Django authentication åº”ç”¨æ„å»ºï¼Œæä¾›ç”¨æˆ·è®¤è¯ã€æƒé™ç®¡ç†å’Œ API å®‰å…¨é˜²æŠ¤åŠŸèƒ½ã€‚

### æ ¸å¿ƒç»„ä»¶

| å±‚çº§ | ç»„ä»¶ | æŠ€æœ¯é€‰å‹ | å®ç°çŠ¶æ€ | è¯¦ç»†æ–‡æ¡£ |
|------|------|----------|----------|----------|
| **ç”¨æˆ·è®¤è¯** | User/UserProfile | Django AbstractUser | âœ… å·²å®ç° | [ç”¨æˆ·è®¤è¯](./07_permission_management/02_django_user_auth.md) |
| **ç»„ç»‡ç®¡ç†** | Organization | Django Model | âœ… å·²å®ç° | [ç”¨æˆ·è®¤è¯](./07_permission_management/02_django_user_auth.md) |
| **ä»¤ç‰Œè®¤è¯** | JWT Token | DRF-SimpleJWT | ğŸ“‹ å¾…é…ç½® | [JWTè®¤è¯](./07_permission_management/03_jwt_authentication.md) |
| **æƒé™æ§åˆ¶** | Django Permissions | Django å†…ç½® | ğŸ“‹ å¾…é…ç½® | [æƒé™ç³»ç»Ÿ](./07_permission_management/04_django_permissions.md) |
| **è§’è‰²ç®¡ç†** | RBAC æ¨¡å‹ | è‡ªå®šä¹‰å®ç° | ğŸ“‹ å¾…å®ç° | [è§’è‰²ç®¡ç†](./07_permission_management/05_role_based_access.md) |
| **API å®‰å…¨** | å®‰å…¨ä¸­é—´ä»¶ | è‡ªå®šä¹‰ä¸­é—´ä»¶ | ğŸ“‹ å¾…å®ç° | [APIå®‰å…¨](./07_permission_management/06_api_security.md) |

### æƒé™æ¶æ„å±‚çº§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI ä¸­å°æƒé™ç®¡ç†ç³»ç»Ÿæ¶æ„                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‰ç«¯åº”ç”¨å±‚  â”‚ React + è®¤è¯ç»„ä»¶   â”‚ ç”¨æˆ·ç•Œé¢å’Œæƒé™å±•ç¤º           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  API ç½‘å…³å±‚   â”‚ Django REST API    â”‚ è¯·æ±‚è·¯ç”±å’Œæƒé™æ£€æŸ¥           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è®¤è¯å±‚      â”‚ Django Auth + JWT  â”‚ ç”¨æˆ·è®¤è¯å’Œä»¤ç‰Œç®¡ç†           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æƒé™å±‚      â”‚ Django Permissions â”‚ æ¨¡å‹çº§æƒé™æ§åˆ¶               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¸šåŠ¡å±‚      â”‚ Platform Apps      â”‚ ä¸šåŠ¡é€»è¾‘å’Œæƒé™ç­–ç•¥æ‰§è¡Œ       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ•°æ®å±‚      â”‚ PostgreSQL         â”‚ ç”¨æˆ·å’Œæƒé™æ•°æ®å­˜å‚¨           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæ¦‚å¿µå®šä¹‰

- **ç”¨æˆ· (User)**: åŸºäº Django AbstractUser çš„æ‰©å±•ç”¨æˆ·æ¨¡å‹ï¼ŒåŒ…å«åŸºæœ¬è®¤è¯ä¿¡æ¯
- **ç”¨æˆ·é…ç½® (UserProfile)**: ç”¨æˆ·çš„æ‰©å±•ä¿¡æ¯ï¼ŒåŒ…å«ç»„ç»‡å…³ç³»ã€éƒ¨é—¨ã€èŒä½ç­‰
- **ç»„ç»‡ (Organization)**: ç”¨æˆ·æ‰€å±çš„ç»„ç»‡æœºæ„ï¼Œæ”¯æŒå¤šç»„ç»‡ç®¡ç†
- **æƒé™ (Permission)**: Django å†…ç½®æƒé™ç³»ç»Ÿï¼Œæä¾›æ¨¡å‹çº§æƒé™æ§åˆ¶
- **è§’è‰² (Role)**: æƒé™çš„é›†åˆï¼Œç®€åŒ–æƒé™åˆ†é…å’Œç®¡ç†
- **JWT ä»¤ç‰Œ**: ç”¨äº API è®¤è¯çš„æ— çŠ¶æ€ä»¤ç‰Œ

## ğŸ“‚ éƒ¨ç½²é¡ºåº

æƒé™ç®¡ç†ç³»ç»Ÿçš„éƒ¨ç½²åº”æŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿›è¡Œï¼š

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€è®¤è¯ç³»ç»Ÿ (60-90åˆ†é’Ÿ)
1. **[è®¤è¯æ¶æ„æ¦‚è§ˆ](./07_permission_management/01_authentication_architecture.md)** - äº†è§£ç³»ç»Ÿæ¶æ„å’Œè®¾è®¡åŸç†
2. **[Django ç”¨æˆ·è®¤è¯](./07_permission_management/02_django_user_auth.md)** - é…ç½®å’Œå®Œå–„ç°æœ‰çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
3. **[JWT ä»¤ç‰Œè®¤è¯](./07_permission_management/03_jwt_authentication.md)** - é…ç½® JWT è®¤è¯ç”¨äº API è®¿é—®

### ç¬¬äºŒé˜¶æ®µï¼šæƒé™æ§åˆ¶ç³»ç»Ÿ (60-90åˆ†é’Ÿ)
4. **[Django æƒé™ç³»ç»Ÿ](./07_permission_management/04_django_permissions.md)** - é…ç½® Django å†…ç½®æƒé™ç³»ç»Ÿ
5. **[è§’è‰²æƒé™ç®¡ç†](./07_permission_management/05_role_based_access.md)** - å®ç°åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC)

### ç¬¬ä¸‰é˜¶æ®µï¼šå®‰å…¨åŠ å›ºä¸ç›‘æ§ (45-60åˆ†é’Ÿ)
6. **[API å®‰å…¨é…ç½®](./07_permission_management/06_api_security.md)** - é…ç½® API å®‰å…¨é˜²æŠ¤å’Œè®¿é—®æ§åˆ¶
7. **[æƒé™å®¡è®¡ç›‘æ§](./07_permission_management/07_audit_monitoring.md)** - è®¾ç½®æƒé™æ“ä½œå®¡è®¡å’Œç›‘æ§
8. **[éƒ¨ç½²éªŒè¯æµ‹è¯•](./07_permission_management/08_deployment_testing.md)** - ç³»ç»Ÿæµ‹è¯•å’ŒéªŒè¯å·¥å…·

-   **ç”¨æˆ· (User)**: ç³»ç»Ÿä¸­çš„æ“ä½œå®ä½“ï¼Œå¯ä»¥æ˜¯å…·ä½“çš„äººå‘˜æˆ–å¤–éƒ¨æœåŠ¡ã€‚å…·æœ‰å”¯ä¸€æ ‡è¯†å’Œè®¤è¯å‡­æ®ã€‚
-   **ç”¨æˆ·ç»„ (Group)**: å…·æœ‰ç›¸ä¼¼æƒé™éœ€æ±‚çš„ç”¨æˆ·é›†åˆï¼Œç®€åŒ–æƒé™åˆ†é…å’Œç®¡ç†ã€‚æ”¯æŒå±‚çº§ç»“æ„ã€‚
-   **è§’è‰² (Role)**: ä¸€ç»„é¢„å®šä¹‰çš„æƒé™é›†åˆï¼Œä»£è¡¨äº†ç”¨æˆ·åœ¨ç³»ç»Ÿä¸­çš„èŒè´£æˆ–èº«ä»½ã€‚ç”¨æˆ·å¯ä»¥è¢«åˆ†é…ä¸€ä¸ªæˆ–å¤šä¸ªè§’è‰²ã€‚
-   **æƒé™ (Permission)**: å¯¹ç‰¹å®šèµ„æºæ‰§è¡Œç‰¹å®šæ“ä½œçš„è®¸å¯ã€‚æ”¯æŒCRUDã€è‡ªå®šä¹‰åŠ¨ä½œç­‰ç²¾ç»†åŒ–æƒé™æ§åˆ¶ã€‚
-   **èµ„æº (Resource)**: ç³»ç»Ÿä¸­éœ€è¦è¢«ä¿æŠ¤å’Œæ§åˆ¶è®¿é—®çš„å¯¹è±¡ï¼Œå¦‚æ•°æ®é›†ã€æ¨¡å‹ã€è®¡ç®—èµ„æºã€API ç«¯ç‚¹ç­‰ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¸€é”®éƒ¨ç½²å‘½ä»¤

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/ai-platform/backend

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source /opt/ai-platform/venv/bin/activate

# å®‰è£…æƒé™ç®¡ç†ç›¸å…³ä¾èµ–
pip install djangorestframework-simplejwt django-cors-headers

# è¿è¡Œæ•°æ®åº“è¿ç§»
python manage.py makemigrations authentication
python manage.py migrate

# åˆ›å»ºè¶…çº§ç”¨æˆ·
python manage.py createsuperuser

# æ”¶é›†é™æ€æ–‡ä»¶
python manage.py collectstatic --noinput

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨éªŒè¯
python manage.py runserver 0.0.0.0:8000
```

### éƒ¨ç½²éªŒè¯å¿«é€Ÿæ£€æŸ¥

```bash
# æ£€æŸ¥è®¤è¯ç³»ç»ŸçŠ¶æ€
curl -X POST http://localhost:8000/api/auth/register/ \
  -H "Content-Type: application/json" \
  -d '{"username":"test","email":"test@example.com","password":"testpass123"}'

# æ£€æŸ¥JWTä»¤ç‰Œè·å–
curl -X POST http://localhost:8000/api/auth/token/ \
  -H "Content-Type: application/json" \
  -d '{"username":"test","password":"testpass123"}'
```

### å‰ç½®æ¡ä»¶æ£€æŸ¥

åœ¨å¼€å§‹æƒé™ç®¡ç†ç³»ç»Ÿéƒ¨ç½²å‰ï¼Œè¯·ç¡®ä¿ä»¥ä¸‹ç»„ä»¶å·²æ­£ç¡®éƒ¨ç½²ï¼š

```bash
# æ£€æŸ¥ PostgreSQL
sudo systemctl status postgresql

# æ£€æŸ¥ Redis
sudo systemctl status redis-server

# æ£€æŸ¥ Django é¡¹ç›®ç¯å¢ƒ
source /opt/ai-platform/venv/bin/activate
python -c "import django; print(f'Django version: {django.get_version()}')"

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
cd /opt/ai-platform/backend
python manage.py dbshell --database=default
```

## ğŸ” å®‰å…¨ä¸åˆè§„

æƒé™ç®¡ç†ç³»ç»Ÿé‡‡ç”¨å¤šå±‚æ¬¡å®‰å…¨æ¶æ„ï¼š

- **èº«ä»½è®¤è¯**: åŸºäºJWTçš„æ— çŠ¶æ€è®¤è¯æœºåˆ¶
- **è®¿é—®æ§åˆ¶**: RBAC + å¯¹è±¡çº§ç²¾ç»†æƒé™æ§åˆ¶
- **å®‰å…¨é˜²æŠ¤**: é€Ÿç‡é™åˆ¶ã€IPå°ç¦ã€ä¼šè¯ç®¡ç†
- **å®¡è®¡ç›‘æ§**: å®Œæ•´çš„æ“ä½œæ—¥å¿—å’Œæƒé™å®¡è®¡
- **æ•°æ®ä¿æŠ¤**: æ•æ„Ÿä¿¡æ¯åŠ å¯†å­˜å‚¨å’Œä¼ è¾“

è¯¦ç»†çš„å®‰å…¨é…ç½®å’Œæœ€ä½³å®è·µè¯·å‚è€ƒ [å®‰å…¨å¼ºåŒ–æ–‡æ¡£](./07_permission_management/06_security_hardening.md)ã€‚

## ğŸ“Š ç›‘æ§ä¸è¿ç»´

| ç›‘æ§æ–¹é¢ | è¯¦ç»†æ–‡æ¡£ |
|---------|----------|
| æƒé™å®¡è®¡ä¸æ—¥å¿— | [ç›‘æ§å®¡è®¡](./07_permission_management/07_monitoring_audit.md) |
| æ€§èƒ½ç›‘æ§ | [ç›‘æ§å®¡è®¡](./07_permission_management/07_monitoring_audit.md) |
| å®‰å…¨äº‹ä»¶å“åº” | [å®‰å…¨å¼ºåŒ–](./07_permission_management/06_security_hardening.md) |
| éƒ¨ç½²éªŒè¯å·¥å…· | [éƒ¨ç½²éªŒè¯](./07_permission_management/08_deployment_validation.md) |

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [æ•°æ®åº“ç³»ç»Ÿæ¦‚è§ˆ](./05_database_setup.md) - æƒé™ç³»ç»Ÿçš„æ•°æ®å­˜å‚¨åŸºç¡€
- [Django REST éƒ¨ç½²](./06_django_rest_setup.md) - APIæ¡†æ¶é…ç½®
- [ç³»ç»Ÿéƒ¨ç½²æ¦‚è§ˆ](../deployment_overview.md) - æ•´ä½“éƒ¨ç½²è§„åˆ’
- [å¼€å‘è§„åˆ’æ–‡æ¡£](../../development/development_Plan.md) - æƒé™ç³»ç»Ÿè®¾è®¡åŸç†

## âš ï¸ é‡è¦æé†’

1. **å®‰å…¨ç¬¬ä¸€**: æƒé™ç³»ç»Ÿå…³ä¹æ•´ä¸ªå¹³å°å®‰å…¨ï¼Œè¯·ä¸¥æ ¼æŒ‰ç…§æ–‡æ¡£æ‰§è¡Œé…ç½®
2. **æµ‹è¯•éªŒè¯**: æ¯ä¸ªç»„ä»¶éƒ¨ç½²åéƒ½åº”è¿›è¡Œå……åˆ†æµ‹è¯•
3. **å¤‡ä»½é‡è¦**: åœ¨è¿›è¡Œæƒé™é…ç½®å‰åŠ¡å¿…å¤‡ä»½ç°æœ‰æ•°æ®
4. **æ—¥å¿—ç›‘æ§**: åŠæ—¶å¯ç”¨æ—¥å¿—è®°å½•å’Œç›‘æ§æœºåˆ¶
5. **å®šæœŸå®¡è®¡**: å»ºç«‹æƒé™å®¡è®¡å’Œæ¸…ç†æœºåˆ¶

---

**æ³¨æ„**: æœ¬æ¦‚è§ˆæ–‡æ¡£æä¾›äº†æƒé™ç®¡ç†ç³»ç»Ÿçš„æ•´ä½“æ¶æ„å’Œéƒ¨ç½²æŒ‡å¼•ã€‚å…·ä½“çš„å®æ–½æ­¥éª¤ã€ä»£ç é…ç½®å’Œæ•…éšœæ’é™¤è¯·å‚è€ƒå„ä¸“é¢˜æ–‡æ¡£ã€‚
