# ğŸš€ ZTZT AIä¸­å°é¡¹ç›®äº¤æ¥æ–‡æ¡£

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
> **æ›´æ–°æ—¥æœŸ**: 2025å¹´6æœˆ26æ—¥  
> **äº¤æ¥äºº**: lsyzt  
> **æ¥æ”¶äºº**: [å¾…å¡«å†™]  

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚å†µ](#-é¡¹ç›®æ¦‚å†µ)
2. [é¡¹ç›®æ¶æ„](#-é¡¹ç›®æ¶æ„)
3. [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
4. [æœåŠ¡å™¨ç¯å¢ƒ](#ï¸-æœåŠ¡å™¨ç¯å¢ƒ)
5. [ç«¯å£å ç”¨æƒ…å†µ](#-ç«¯å£å ç”¨æƒ…å†µ)
6. [ğŸ†• ç«¯å£å†²çªè§£å†³æ–¹æ¡ˆ](#-ç«¯å£å†²çªè§£å†³æ–¹æ¡ˆ-v20256é‡è¦æ›´æ–°)
7. [è´¦å·å¯†ç ä¿¡æ¯](#-è´¦å·å¯†ç ä¿¡æ¯)
8. [é¡¹ç›®ç›®å½•ç»“æ„](#-é¡¹ç›®ç›®å½•ç»“æ„)
9. [å¿«é€Ÿå¯åŠ¨æŒ‡å—](#-å¿«é€Ÿå¯åŠ¨æŒ‡å—)
10. [å¼€å‘ç¯å¢ƒé…ç½®](#-å¼€å‘ç¯å¢ƒé…ç½®)
11. [ç›‘æ§å’Œè¿ç»´](#-ç›‘æ§å’Œè¿ç»´)
12. [å¸¸è§é—®é¢˜æ’æŸ¥](#-å¸¸è§é—®é¢˜æ’æŸ¥-v20256æ›´æ–°)
13. [é‡è¦æ³¨æ„äº‹é¡¹](#ï¸-é‡è¦æ³¨æ„äº‹é¡¹)
14. [è”ç³»æ–¹å¼](#-è”ç³»æ–¹å¼-v20256æ›´æ–°)

---

## ğŸ¯ é¡¹ç›®æ¦‚å†µ

### é¡¹ç›®ç®€ä»‹
ZTZT æ˜¯ä¸€ä¸ªä¼ä¸šçº§çš„ AI ä¸­å°è§£å†³æ–¹æ¡ˆï¼Œæä¾›ä»å¼€å‘åˆ°ç”Ÿäº§çš„å…¨æ ˆ AI æœåŠ¡å¹³å°ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„å¾®æœåŠ¡æ¶æ„ï¼Œæ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼ï¼Œå¹¶æä¾›äº†ä»å¼€å‘ã€æµ‹è¯•åˆ°ç”Ÿäº§çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚

### æ ¸å¿ƒåŠŸèƒ½
- **ğŸ¤– Dify AI å¹³å°é›†æˆ**: å†…ç½®Dify AIåº”ç”¨æ„å»ºå¹³å°ï¼Œæ”¯æŒå¯¹è¯ã€å·¥ä½œæµã€æ™ºèƒ½ä½“
- **ğŸ”§ ç«¯å£å†²çªè§£å†³**: æ™ºèƒ½ç«¯å£ç®¡ç†ï¼ŒAIä¸­å°(80) + Dify(8080)å®Œç¾ååŒ  
- **ğŸ¯ ç¯å¢ƒç®¡ç†ç³»ç»Ÿ**: å¼€å‘/ç”Ÿäº§ç¯å¢ƒä¸€é”®åˆ‡æ¢ï¼Œè‡ªåŠ¨é…ç½®IPåœ°å€
- **ğŸš€ ç»Ÿä¸€è®¿é—®å…¥å£**: é€šè¿‡ç«¯å£80æä¾›AIä¸­å°ç»Ÿä¸€è®¿é—®å…¥å£
- **ğŸ“Š å››å¤§ä¸­å°**: æ•°æ®å¹³å°ã€ç®—æ³•å¹³å°ã€æ¨¡å‹å¹³å°ã€æœåŠ¡å¹³å°
- **ğŸ”’ æƒé™ç®¡ç†**: åŸºäº Django + JWT çš„å®Œæ•´æƒé™ç³»ç»Ÿ
- **ğŸ“ˆ ç›‘æ§ç³»ç»Ÿ**: Prometheus + Grafana ç›‘æ§ä½“ç³»
- **ğŸ³ å®¹å™¨åŒ–**: Docker + Kubernetes å®¹å™¨ç¼–æ’
- **ğŸ”¥ GPU æ”¯æŒ**: NVIDIA GPU åŠ é€Ÿæ¨ç†æœåŠ¡

### æœ€æ–°æ¶æ„ç‰¹æ€§ (v2025.6)
- **ğŸŒ ç»Ÿä¸€å…¥å£**: ç«¯å£80ç»Ÿä¸€è®¿é—®AIä¸­å°æ‰€æœ‰åŠŸèƒ½
- **ğŸ¤– AIå¹³å°**: ç«¯å£8080ç‹¬ç«‹è¿è¡ŒDify AIåº”ç”¨æ„å»ºå¹³å°
- **ğŸ”„ ç¯å¢ƒåˆ‡æ¢**: å¼€å‘/ç”Ÿäº§ç¯å¢ƒé›¶é…ç½®åˆ‡æ¢  
- **ğŸ“¦ å®Œå…¨ç¦»çº¿**: æ‰€æœ‰Dockeré•œåƒæœ¬åœ°åŒ–ï¼Œæ— ç½‘ç»œä¾èµ–
- **ğŸ”§ æ™ºèƒ½éƒ¨ç½²**: è‡ªåŠ¨ç«¯å£ç®¡ç†ï¼Œé¿å…æœåŠ¡å†²çª

### éƒ¨ç½²ç¯å¢ƒ
- **å¼€å‘ç¯å¢ƒ**: localhost (127.0.0.1)
- **ç”Ÿäº§ç¯å¢ƒ**: 192.168.110.88 (Ubuntu 24.04 LTS)

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```mermaid
graph TB
    subgraph "ç”¨æˆ·äº¤äº’å±‚"
        NextJS[Webå‰ç«¯<br/>Next.js]
        DjangoAdmin[Django Admin<br/>åå°ç®¡ç†]
        Grafana[Grafanaç›‘æ§<br/>å¯è§†åŒ–]
        DifyUI[Difyç•Œé¢<br/>AIå¹³å°]
    end
    
    subgraph "APIç½‘å…³/æ ¸å¿ƒæœåŠ¡"
        DjangoAPI[Django REST API<br/>æ ¸å¿ƒAPI]
        JWT[JWTè®¤è¯<br/>èº«ä»½éªŒè¯]
        Permission[æƒé™ç®¡ç†<br/>RBAC]
        Nginx[Nginx<br/>åå‘ä»£ç†]
    end
    
    subgraph "åº”ç”¨ä¸­å°å±‚"
        DataPlatform[æ•°æ®å¹³å°<br/>Data Platform]
        AlgoPlatform[ç®—æ³•å¹³å°<br/>Algorithm Platform]
        ModelPlatform[æ¨¡å‹å¹³å°<br/>Model Platform]
        ServicePlatform[æœåŠ¡å¹³å°<br/>Service Platform]
        DifyPlatform[Difyå¹³å°<br/>AI Integration]
    end
    
    subgraph "åŸºç¡€è®¾æ–½å±‚"
        PostgreSQL[(PostgreSQL<br/>ä¸»æ•°æ®åº“)]
        Redis[(Redis<br/>ç¼“å­˜)]
        MinIO[(MinIO<br/>å¯¹è±¡å­˜å‚¨)]
        Prometheus[Prometheus<br/>ç›‘æ§æ”¶é›†]
        GPUService[GPUæœåŠ¡<br/>æ¨ç†åŠ é€Ÿ]
    end
    
    %% è¿æ¥å…³ç³»
    NextJS --> DjangoAPI
    DjangoAdmin --> DjangoAPI
    Grafana --> Prometheus
    DifyUI --> DifyPlatform
    
    DjangoAPI --> JWT
    DjangoAPI --> Permission
    Nginx --> DjangoAPI
    
    DjangoAPI --> DataPlatform
    DjangoAPI --> AlgoPlatform
    DjangoAPI --> ModelPlatform
    DjangoAPI --> ServicePlatform
    DjangoAPI --> DifyPlatform
    
    DataPlatform --> PostgreSQL
    DataPlatform --> Redis
    DataPlatform --> MinIO
    
    AlgoPlatform --> PostgreSQL
    AlgoPlatform --> MinIO
    
    ModelPlatform --> PostgreSQL
    ModelPlatform --> MinIO
    ModelPlatform --> GPUService
    
    ServicePlatform --> PostgreSQL
    ServicePlatform --> Redis
    
    DifyPlatform --> PostgreSQL
    DifyPlatform --> Redis
    
    Prometheus --> PostgreSQL
    Prometheus --> Redis
    Prometheus --> GPUService
    
    %% æ ·å¼å®šä¹‰
    classDef frontend fill:#e1f5fe
    classDef api fill:#f3e5f5
    classDef platform fill:#e8f5e8
    classDef infrastructure fill:#fff3e0
    
    class NextJS,DjangoAdmin,Grafana,DifyUI frontend
    class DjangoAPI,JWT,Permission,Nginx api
    class DataPlatform,AlgoPlatform,ModelPlatform,ServicePlatform,DifyPlatform platform
    class PostgreSQL,Redis,MinIO,Prometheus,GPUService infrastructure
```

### éƒ¨ç½²æ¶æ„
- **å‰ç«¯**: Next.js + React + TypeScript
- **åç«¯**: Django + Django REST Framework
- **æ•°æ®åº“**: PostgreSQL (ä¸»æ•°æ®åº“) + Redis (ç¼“å­˜)
- **å­˜å‚¨**: MinIO (å¯¹è±¡å­˜å‚¨)
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **ç›‘æ§**: Prometheus + Grafana
- **AIå¹³å°**: Dify é›†æˆ

### ç½‘ç»œæ¶æ„å›¾

```mermaid
graph TB
    subgraph "å¤–éƒ¨ç”¨æˆ·"
        User[ç”¨æˆ·æµè§ˆå™¨]
        API_Client[APIå®¢æˆ·ç«¯]
    end
    
    subgraph "æœåŠ¡å™¨: 192.168.110.88"
        subgraph "Webå±‚ - ç«¯å£3000,8000,80"
            Nginx[Nginx:80<br/>åå‘ä»£ç†]
            NextJS[Next.js:3000<br/>å‰ç«¯æœåŠ¡]
            Django[Django:8000<br/>åç«¯API]
        end
        
        subgraph "åº”ç”¨å±‚"
            DifyAPI[Dify API:5001<br/>AIæœåŠ¡]
            DifyWeb[Dify Web:8001<br/>AIç•Œé¢]
        end
        
        subgraph "æ•°æ®å±‚"
            PostgreSQL[PostgreSQL:5432<br/>ä¸»æ•°æ®åº“]
            PostgreSQL_Dify[PostgreSQL:5433<br/>Difyæ•°æ®åº“]
            Redis_Main[Redis:6379<br/>ä¸»ç¼“å­˜]
            Redis_Dify[Redis:6380<br/>Difyç¼“å­˜]
            MinIO[MinIO:9000/9001<br/>å¯¹è±¡å­˜å‚¨]
        end
        
        subgraph "ç›‘æ§å±‚"
            Prometheus[Prometheus:9090<br/>ç›‘æ§æ”¶é›†]
            Grafana_Main[Grafana:3000<br/>ä¸»ç›‘æ§]
            Grafana_GPU[Grafana:3003<br/>GPUç›‘æ§]
            AlertManager[AlertManager:9093<br/>å‘Šè­¦ç®¡ç†]
        end
        
        subgraph "AI/GPUæœåŠ¡"
            GPUStack[GPUStack:8080<br/>GPUç®¡ç†]
            Ollama[Ollama:11434<br/>LLMæœåŠ¡]
            OpenWebUI[OpenWebUI:3001<br/>AIç•Œé¢]
            Triton[Triton:8100/8101<br/>æ¨ç†æœåŠ¡]
        end
    end
    
    subgraph "Dockerç½‘ç»œ: ai_platform_network"
        Docker_Net[å†…éƒ¨æœåŠ¡é€šä¿¡<br/>å®¹å™¨é—´ç½‘ç»œ]
    end
    
    %% å¤–éƒ¨è®¿é—®
    User --> Nginx
    User --> NextJS
    User --> Django
    API_Client --> Django
    
    %% å†…éƒ¨æœåŠ¡é€šä¿¡
    Nginx --> NextJS
    Nginx --> Django
    Nginx --> DifyWeb
    
    NextJS --> Django
    Django --> PostgreSQL
    Django --> Redis_Main
    Django --> MinIO
    
    DifyAPI --> PostgreSQL_Dify
    DifyAPI --> Redis_Dify
    DifyWeb --> DifyAPI
    
    Prometheus --> Django
    Prometheus --> PostgreSQL
    Prometheus --> Redis_Main
    Prometheus --> GPUStack
    
    Grafana_Main --> Prometheus
    AlertManager --> Prometheus
    
    %% Dockerç½‘ç»œ
    Django -.-> Docker_Net
    PostgreSQL -.-> Docker_Net
    Redis_Main -.-> Docker_Net
    MinIO -.-> Docker_Net
    DifyAPI -.-> Docker_Net
    Prometheus -.-> Docker_Net
    
    %% æ ·å¼å®šä¹‰
    classDef external fill:#ffcdd2
    classDef web fill:#e1f5fe
    classDef app fill:#f3e5f5
    classDef data fill:#e8f5e8
    classDef monitor fill:#fff3e0
    classDef ai fill:#f1f8e9
    classDef network fill:#fafafa
    
    class User,API_Client external
    class Nginx,NextJS,Django web
    class DifyAPI,DifyWeb app
    class PostgreSQL,PostgreSQL_Dify,Redis_Main,Redis_Dify,MinIO data
    class Prometheus,Grafana_Main,Grafana_GPU,AlertManager monitor
    class GPUStack,Ollama,OpenWebUI,Triton ai
    class Docker_Net network
```

---

## ğŸ’» æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Python | 3.12 | åç«¯å¼€å‘è¯­è¨€ |
| Django | 5.1+ | Webæ¡†æ¶ |
| Django REST Framework | 3.15+ | APIæ¡†æ¶ |
| PostgreSQL | 16 | ä¸»æ•°æ®åº“ |
| Redis | 7.0 | ç¼“å­˜ç³»ç»Ÿ |
| MinIO | æœ€æ–°ç‰ˆ | å¯¹è±¡å­˜å‚¨ |

### å‰ç«¯æŠ€æœ¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Node.js | 18.x LTS | å‰ç«¯è¿è¡Œæ—¶ |
| Next.js | 14+ | Reactæ¡†æ¶ |
| React | 18+ | å‰ç«¯æ¡†æ¶ |
| TypeScript | 5+ | ç±»å‹ç³»ç»Ÿ |

### å®¹å™¨åŒ–ä¸éƒ¨ç½²
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Docker | 24+ | å®¹å™¨è¿è¡Œæ—¶ |
| Docker Compose | 2.20+ | å®¹å™¨ç¼–æ’ |
| Nginx | 1.25 | åå‘ä»£ç† |

### ç›‘æ§ä¸è¿ç»´
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Prometheus | æœ€æ–°ç‰ˆ | ç›‘æ§æ•°æ®æ”¶é›† |
| Grafana | æœ€æ–°ç‰ˆ | ç›‘æ§æ•°æ®å¯è§†åŒ– |
| DCGM Exporter | æœ€æ–°ç‰ˆ | GPUç›‘æ§ |

### æ•°æ®æµæ¶æ„

```mermaid
flowchart LR
    subgraph "æ•°æ®è¾“å…¥"
        UserInput[ç”¨æˆ·è¾“å…¥]
        APIData[APIæ•°æ®]
        FileUpload[æ–‡ä»¶ä¸Šä¼ ]
    end
    
    subgraph "æ•°æ®å¤„ç†å±‚"
        Django[Djangoåç«¯<br/>æ•°æ®éªŒè¯&å¤„ç†]
        DifyEngine[Dify AIå¼•æ“<br/>æ™ºèƒ½å¤„ç†]
    end
    
    subgraph "æ•°æ®å­˜å‚¨"
        PostgreSQL[(PostgreSQL<br/>ç»“æ„åŒ–æ•°æ®)]
        Redis[(Redis<br/>ç¼“å­˜æ•°æ®)]
        MinIO[(MinIO<br/>æ–‡ä»¶å¯¹è±¡)]
    end
    
    subgraph "AIå¤„ç†"
        LLM[å¤§è¯­è¨€æ¨¡å‹<br/>Ollama/GPT]
        VectorDB[å‘é‡æ•°æ®åº“<br/>Weaviate]
        GPU[GPUè®¡ç®—<br/>æ¨ç†åŠ é€Ÿ]
    end
    
    subgraph "æ•°æ®è¾“å‡º"
        WebUI[Webç•Œé¢<br/>Next.js]
        APIResponse[APIå“åº”<br/>JSON/XML]
        Reports[æŠ¥å‘Šæ–‡ä»¶<br/>PDF/Excel]
        Alerts[ç›‘æ§å‘Šè­¦<br/>é‚®ä»¶/çŸ­ä¿¡]
    end
    
    %% æ•°æ®æµå‘
    UserInput --> Django
    APIData --> Django
    FileUpload --> MinIO
    
    Django --> PostgreSQL
    Django --> Redis
    Django --> DifyEngine
    
    DifyEngine --> LLM
    DifyEngine --> VectorDB
    LLM --> GPU
    
    PostgreSQL --> Django
    Redis --> Django
    MinIO --> Django
    
    Django --> WebUI
    Django --> APIResponse
    Django --> Reports
    
    Django --> Prometheus[ç›‘æ§æ•°æ®] --> Alerts
    
    %% æ ·å¼å®šä¹‰
    classDef input fill:#e3f2fd
    classDef process fill:#f3e5f5
    classDef storage fill:#e8f5e8
    classDef ai fill:#fff3e0
    classDef output fill:#fce4ec
    
    class UserInput,APIData,FileUpload input
    class Django,DifyEngine process
    class PostgreSQL,Redis,MinIO storage
    class LLM,VectorDB,GPU ai
    class WebUI,APIResponse,Reports,Alerts output
```

---

## ğŸ–¥ï¸ æœåŠ¡å™¨ç¯å¢ƒ

### ç”Ÿäº§æœåŠ¡å™¨ä¿¡æ¯
| é¡¹ç›® | è¯¦æƒ… |
|------|------|
| **æœåŠ¡å™¨IP** | `192.168.110.88` |
| **æ“ä½œç³»ç»Ÿ** | Ubuntu 24.04 LTS |
| **ç”¨æˆ·å** | `lsyzt` |
| **SSHç«¯å£** | `22` |
| **é¡¹ç›®è·¯å¾„** | `/home/lsyzt/ZTZT` |
| **æœ€å°åŒ–ç¤ºä¾‹è·¯å¾„** | `/home/lsyzt/ZTZT/minimal-example` |

### SSHè¿æ¥å‘½ä»¤
```bash
# ä»ä»»ä½•åœ°æ–¹è¿æ¥åˆ°æœåŠ¡å™¨
ssh lsyzt@192.168.110.88

# Windowsç”¨æˆ·æ¨èä½¿ç”¨çš„å·¥å…·
# - Windows Terminal + OpenSSH
# - VSCode Remote SSH æ’ä»¶
# - MobaXterm (å›¾å½¢åŒ–å·¥å…·)
```

### é‡è¦ç›®å½•ç»“æ„
```
/home/lsyzt/ZTZT/
â”œâ”€â”€ minimal-example/          # æœ€å°åŒ–AIä¸­å°ç¤ºä¾‹
â”‚   â”œâ”€â”€ backend/             # Djangoåç«¯åº”ç”¨
â”‚   â”œâ”€â”€ frontend/            # Next.jså‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ docker/              # Dockeré…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ quick-start.sh       # å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ stop.sh              # åœæ­¢è„šæœ¬
â”œâ”€â”€ docs/                    # å®Œæ•´æ–‡æ¡£
â”œâ”€â”€ dify/                    # Dify AIå¹³å°æºç 
â””â”€â”€ packages/                # è½¯ä»¶åŒ…èµ„æº
```

---

## ğŸ”Œ ç«¯å£å ç”¨æƒ…å†µ

### ç«¯å£åˆ†å¸ƒå›¾ (âš ï¸ 2025.6æ›´æ–°)

```mermaid
graph TB
    subgraph "WebæœåŠ¡å±‚ (80, 3000-8999)"
        Port80[80: AIä¸­å°ç»Ÿä¸€å…¥å£ ğŸ†•]
        Port3000[3000: Next.jså‰ç«¯]
        Port3002[3002: Grafanaç›‘æ§]
        Port8000[8000: Djangoåç«¯]
        Port8080[8080: Dify AIå¹³å° ğŸ†•]
        Port8100[8100: Triton HTTP]
        Port8101[8101: Triton GRPC]
    end
    
    subgraph "æ•°æ®åº“å±‚ (5000-6999)"
        Port5432[5432: PostgreSQLä¸»åº“]
        Port5433[5433: PostgreSQL Dify]
        Port6379[6379: Redisä¸»ç¼“å­˜]
        Port6380[6380: Redis Dify]
    end
    
    subgraph "ç›‘æ§æœåŠ¡å±‚ (9000-9999)"
        Port9000[9000: MinIO API]
        Port9001[9001: MinIOæ§åˆ¶å°]
        Port9090[9090: Prometheus]
        Port9093[9093: AlertManager]
        Port9100[9100: Node Exporter]
        Port9121[9121: Redis Exporter]
        Port9187[9187: PostgreSQL Exporter]
    end
    
    subgraph "AIæœåŠ¡å±‚ (11000+)"
        Port11434[11434: Ollama LLM]
        Port3001[3001: OpenWebUI]
    end
    
    subgraph "åŸºç¡€æœåŠ¡å±‚ (0-2999)"
        Port22[22: SSH]
        Port80[80: Nginx]
        Port443[443: HTTPS]
        Port27017[27017: MongoDB]
    end
    
    subgraph "ç‰¹æ®Šç«¯å£"
        Port5001[5001: Dify API]
        Port5555[5555: Flowerç›‘æ§]
    end
    
    %% æ ·å¼å®šä¹‰
    classDef web fill:#e3f2fd
    classDef database fill:#e8f5e8
    classDef monitor fill:#fff8e1
    classDef ai fill:#f1f8e9
    classDef basic fill:#fce4ec
    classDef special fill:#f3e5f5
    
    class Port3000,Port3003,Port8000,Port8001,Port8080,Port8100,Port8101 web
    class Port5432,Port5433,Port6379,Port6380 database
    class Port9000,Port9001,Port9090,Port9093,Port9100,Port9121,Port9187 monitor
    class Port11434,Port3001 ai
    class Port22,Port80,Port443,Port27017 basic
    class Port5001,Port5555 special
```

### ä¸»è¦æœåŠ¡ç«¯å£ (âš ï¸ 2025.6æ›´æ–° - ç«¯å£å†²çªè§£å†³æ–¹æ¡ˆ)
| ç«¯å£ | æœåŠ¡åç§° | åè®® | è®¿é—®åœ°å€ | è¯´æ˜ |
|------|----------|------|----------|------|
| **80** | AIä¸­å°ç»Ÿä¸€å…¥å£ | HTTP | `http://192.168.110.88:80` | **ğŸ†• ç»Ÿä¸€è®¿é—®å…¥å£(æ¨è)** |
| **3000** | Next.jså‰ç«¯ | HTTP | `http://192.168.110.88:3000` | å‰ç«¯ç”¨æˆ·ç•Œé¢(ç›´æ¥è®¿é—®) |
| **8000** | Djangoåç«¯ | HTTP | `http://192.168.110.88:8000` | åç«¯APIæœåŠ¡(ç›´æ¥è®¿é—®) |
| **8080** | Dify AIå¹³å° | HTTP | `http://192.168.110.88:8080` | **ğŸ†• Dify AIåº”ç”¨æ„å»ºå¹³å°** |
| **8000**/admin | Djangoç®¡ç†åå° | HTTP | `http://192.168.110.88:80/admin/` | åå°ç®¡ç†(é€šè¿‡ç»Ÿä¸€å…¥å£) |

### æ•°æ®åº“æœåŠ¡ç«¯å£
| ç«¯å£ | æœåŠ¡åç§° | åè®® | è®¿é—®åœ°å€ | è¯´æ˜ |
|------|----------|------|----------|------|
| **5432** | PostgreSQL ä¸»æ•°æ®åº“ | TCP | `localhost:5432` | ä¸»æ•°æ®åº“ |
| **5433** | PostgreSQL Dify | TCP | `localhost:5433` | Difyä¸“ç”¨æ•°æ®åº“ |
| **6379** | Redis ä¸»ç¼“å­˜ | TCP | `localhost:6379` | ç¼“å­˜æœåŠ¡ |
| **6380** | Redis Dify | TCP | `localhost:6380` | Difyä¸“ç”¨ç¼“å­˜ |

### ç›‘æ§ç³»ç»Ÿç«¯å£
| ç«¯å£ | æœåŠ¡åç§° | åè®® | è®¿é—®åœ°å€ | è¯´æ˜ |
|------|----------|------|----------|------|
| **3002** | Grafanaä¸»ç›‘æ§ | HTTP | `http://192.168.110.88:3002` | ä¸»ç›‘æ§ä»ªè¡¨æ¿ |
| **9090** | Prometheus | HTTP | `http://localhost:9090` | ç›‘æ§æ•°æ®æ”¶é›† |
| **9093** | AlertManager | HTTP | `http://localhost:9093` | å‘Šè­¦ç®¡ç† |

### Dify AIå¹³å°ç«¯å£ (âš ï¸ 2025.6æ›´æ–°)
| ç«¯å£ | æœåŠ¡åç§° | åè®® | è®¿é—®åœ°å€ | è¯´æ˜ |
|------|----------|------|----------|------|
| **8080** | Dify AIå¹³å° | HTTP | `http://192.168.110.88:8080` | **ğŸ†• AIåº”ç”¨æ„å»ºå¹³å°(ä¸»å…¥å£)** |
| **5001** | Dify API | HTTP | `http://localhost:5001` | Dify APIæœåŠ¡(å†…éƒ¨) |
| **8081** | Weaviateå‘é‡åº“ | HTTP | `http://localhost:8081` | å‘é‡æ•°æ®åº“ |

### å­˜å‚¨æœåŠ¡ç«¯å£
| ç«¯å£ | æœåŠ¡åç§° | åè®® | è®¿é—®åœ°å€ | è¯´æ˜ |
|------|----------|------|----------|------|
| **9000** | MinIO API | HTTP | `http://localhost:9000` | å¯¹è±¡å­˜å‚¨API |
| **9001** | MinIOæ§åˆ¶å° | HTTP | `http://localhost:9001` | MinIOç®¡ç†ç•Œé¢ |
| **27017** | MongoDB | TCP | `localhost:27017` | æ–‡æ¡£æ•°æ®åº“ |

### GPUå’ŒAIæœåŠ¡ç«¯å£ (å¯é€‰)
| ç«¯å£ | æœåŠ¡åç§° | åè®® | è®¿é—®åœ°å€ | è¯´æ˜ |
|------|----------|------|----------|------|
| **8100** | Triton HTTP | HTTP | `http://localhost:8100` | æ¨ç†æœåŠ¡HTTP |
| **8101** | Triton GRPC | GRPC | `localhost:8101` | æ¨ç†æœåŠ¡GRPC |
| **11434** | Ollama | HTTP | `http://localhost:11434` | LLMæœåŠ¡ |
| **3001** | OpenWebUI | HTTP | `http://localhost:3001` | AI Webç•Œé¢ |

> **ğŸ”§ ç«¯å£å†²çªè§£å†³æ–¹æ¡ˆ (v2025.6)**:
> - **ç«¯å£80**: AIä¸­å°ç»Ÿä¸€å…¥å£ (nginxåå‘ä»£ç†åˆ°å‰ç«¯å’Œåç«¯)
> - **ç«¯å£8080**: Dify AIå¹³å° (ä»åŸç«¯å£80è¿ç§»ï¼Œé¿å…å†²çª)
> - **ç›´æ¥è®¿é—®**: ä»å¯é€šè¿‡ç«¯å£3000/8000ç›´æ¥è®¿é—®å‰ç«¯/åç«¯
> - **è¯¦ç»†è¯´æ˜**: å‚è§ `minimal-example/docs/PORT_CONFLICT_RESOLUTION.md`

---

## ğŸ” è´¦å·å¯†ç ä¿¡æ¯

> âš ï¸ **å®‰å…¨æé†’**: ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ—¶è¯·åŠ¡å¿…ä¿®æ”¹æ‰€æœ‰é»˜è®¤å¯†ç ï¼

### æ•°æ®åº“ç³»ç»Ÿ
| ç³»ç»Ÿ/æœåŠ¡ | ç”¨æˆ·å | å¯†ç  | æ•°æ®åº“å | è¯´æ˜ |
|----------|--------|------|----------|------|
| **PostgreSQLä¸»æ•°æ®åº“** | postgres | ai-platform-2024 | postgres | è¶…çº§ç®¡ç†å‘˜ |
| **PostgreSQLä¸»æ•°æ®åº“** | aiuser | aiuser-2024 | ai_platform | åº”ç”¨ç”¨æˆ· |
| **PostgreSQL Django** | django_user | django_password_2024 | ai_platform_django | Djangoä¸“ç”¨ |
| **PostgreSQL Dify** | dify_user | dify_password | dify | Difyä¸“ç”¨ |
| **Redisä¸»ç¼“å­˜** | (æ— ) | redis-2024 | - | è®¤è¯å¯†ç  |
| **Redis Dify** | (æ— ) | (æ— å¯†ç ) | - | Difyä¸“ç”¨ç¼“å­˜ |
| **MongoDB** | root | changeThisToSecurePassword | admin | è¶…çº§ç®¡ç†å‘˜ |
| **MongoDB** | ai_platform_user | changeThisToSecurePassword | ai_platform | åº”ç”¨ç”¨æˆ· |

### å­˜å‚¨ç³»ç»Ÿ
| ç³»ç»Ÿ/æœåŠ¡ | ç”¨æˆ·å | å¯†ç  | è¯´æ˜ |
|----------|--------|------|------|
| **MinIOå¯¹è±¡å­˜å‚¨** | minioadmin | minioadmin | ç®¡ç†å‘˜è´¦å· |
| **MinIO K8s** | minioadmin | minioadmin123 | K8séƒ¨ç½²ç‰ˆæœ¬ |

### ç›‘æ§ç³»ç»Ÿ
| ç³»ç»Ÿ/æœåŠ¡ | ç”¨æˆ·å | å¯†ç  | è¯´æ˜ |
|----------|--------|------|------|
| **Grafanaä¸»ç›‘æ§** | admin | LSYgrafanaadmin2025 | ä¸»ç›‘æ§å®ä¾‹ |
| **Grafana Docker** | admin | admin123 | Dockeréƒ¨ç½²ç‰ˆæœ¬ |
| **Grafana GPU** | admin | gpu_monitor_2025 | GPUç›‘æ§å®ä¾‹ |
| **Prometheus** | (æ— ) | (æ— ) | æ— è®¤è¯ |
| **AlertManager** | (æ— ) | (æ— ) | æ— è®¤è¯ |

### AIå¹³å°æœåŠ¡
| ç³»ç»Ÿ/æœåŠ¡ | ç”¨æˆ·å | å¯†ç  | è¯´æ˜ |
|----------|--------|------|------|
| **Djangoç®¡ç†åå°** | admin | admin123 | Djangoè¶…çº§ç”¨æˆ·(å¾…åˆ›å»º) |
| **GPUStack** | admin | $w3d9uKKrVGz | GPUç®¡ç†å¹³å° |
| **OpenWebUI** | (é¦–æ¬¡è®¾ç½®) | (é¦–æ¬¡è®¾ç½®) | é¦–æ¬¡è®¿é—®æ—¶è®¾ç½® |

### å®¡è®¡ç›‘æ§ç³»ç»Ÿ
| ç³»ç»Ÿ/æœåŠ¡ | ç”¨æˆ·å | å¯†ç  | è¯´æ˜ |
|----------|--------|------|------|
| **å®¡è®¡ç›‘æ§ç³»ç»Ÿ** | monitor_admin | Monitor@2024 | å®¡è®¡ç®¡ç†å‘˜ |
| **Flower Celery** | admin | Monitor@2024 | ä»»åŠ¡ç›‘æ§ |

### æ•°æ®åº“è¿æ¥å‘½ä»¤
```bash
# PostgreSQLè¿æ¥
psql -h localhost -U aiuser -d ai_platform
psql -h localhost -U django_user -d ai_platform_django

# MongoDBè¿æ¥
mongosh mongodb://ai_platform_user:changeThisToSecurePassword@localhost:27017/ai_platform

# Redisè¿æ¥
redis-cli -h localhost -p 6379 -a redis-2024
```

---

## ğŸ”§ ç«¯å£å†²çªè§£å†³æ–¹æ¡ˆ (v2025.6é‡è¦æ›´æ–°)

### é—®é¢˜èƒŒæ™¯
åœ¨é¡¹ç›®å‘å±•è¿‡ç¨‹ä¸­ï¼ŒDify AIå¹³å°çš„nginxæœåŠ¡ä¸AIä¸­å°æœåŠ¡åœ¨ç«¯å£80ä¸Šäº§ç”Ÿäº†å†²çªã€‚ç»è¿‡æ¶æ„è°ƒæ•´ï¼Œæˆ‘ä»¬å®æ–½äº†ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š

### è§£å†³æ–¹æ¡ˆæ¶æ„
```mermaid
graph TB
    subgraph "ç«¯å£80 - AIä¸­å°ç»Ÿä¸€å…¥å£"
        NginxProxy[Nginxåå‘ä»£ç†]
        NginxProxy --> Frontend[Next.jså‰ç«¯ :3000]
        NginxProxy --> Backend[Djangoåç«¯ :8000]
    end
    
    subgraph "ç«¯å£8080 - Dify AIå¹³å°"
        DifyPlatform[Dify AIå¹³å°]
        DifyPlatform --> DifyAPI[Dify API :5001]
        DifyPlatform --> DifyWeb[Dify Webç•Œé¢]
        DifyPlatform --> Weaviate[Weaviate :8081]
    end
    
    User[ç”¨æˆ·] --> NginxProxy
    User --> DifyPlatform
    
    classDef primary fill:#e3f2fd
    classDef secondary fill:#f3e5f5
    class NginxProxy,Frontend,Backend primary
    class DifyPlatform,DifyAPI,DifyWeb,Weaviate secondary
```

### ç«¯å£åˆ†é…ç­–ç•¥
| ç«¯å£ | æœåŠ¡ | è¯´æ˜ | çŠ¶æ€ |
|------|------|------|------|
| **80** | AIä¸­å°ç»Ÿä¸€å…¥å£ | nginxåå‘ä»£ç†åˆ°å‰ç«¯/åç«¯ | ğŸ†• æ–°å¢ |
| **3000** | Next.jså‰ç«¯ | ç›´æ¥è®¿é—®å‰ç«¯åº”ç”¨ | âœ… ä¿æŒ |
| **8000** | Djangoåç«¯ | ç›´æ¥è®¿é—®åç«¯API | âœ… ä¿æŒ |
| **8080** | Dify AIå¹³å° | Difyç»Ÿä¸€è®¿é—®å…¥å£ | ğŸ”„ è¿ç§» |

### è®¿é—®æ–¹å¼è¯´æ˜
```bash
# æ¨èè®¿é—®æ–¹å¼
http://192.168.110.88:80        # AIä¸­å°ç»Ÿä¸€å…¥å£ (å‰ç«¯+åç«¯)
http://192.168.110.88:8080      # Dify AIå¹³å°

# ç›´æ¥è®¿é—®æ–¹å¼ (ä»ç„¶æ”¯æŒ)
http://192.168.110.88:3000      # å‰ç«¯ç›´æ¥è®¿é—®
http://192.168.110.88:8000      # åç«¯ç›´æ¥è®¿é—®

# APIæ–‡æ¡£è®¿é—®
http://192.168.110.88:80/swagger/   # é€šè¿‡ç»Ÿä¸€å…¥å£
http://192.168.110.88:8000/swagger/ # ç›´æ¥è®¿é—®
```

### é…ç½®æ–‡ä»¶ä½ç½®
- **AIä¸­å°nginxé…ç½®**: `minimal-example/docker/ai-platform-nginx.conf`
- **Dify nginxé…ç½®**: `minimal-example/docker/dify-nginx.conf`
- **ç«¯å£å†²çªè§£å†³æ–‡æ¡£**: `minimal-example/docs/PORT_CONFLICT_RESOLUTION.md`

### ç¯å¢ƒç®¡ç†å¢å¼º
é¡¹ç›®ç°åœ¨æ”¯æŒå¼€å‘/ç”Ÿäº§ç¯å¢ƒä¸€é”®åˆ‡æ¢ï¼š
```bash
# å¼€å‘ç¯å¢ƒ (localhost)
./scripts/env-config.sh dev

# ç”Ÿäº§ç¯å¢ƒ (192.168.110.88)  
./scripts/env-config.sh prod

# æŸ¥çœ‹å½“å‰ç¯å¢ƒçŠ¶æ€
./scripts/env-config.sh status
```

---

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

### æ ¹ç›®å½•ç»“æ„
```
ZTZT/
â”œâ”€â”€ README.md                     # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ main.py                       # ä¸»åº”ç”¨å…¥å£
â”œâ”€â”€ LICENSE                       # è®¸å¯è¯æ–‡ä»¶
â”œâ”€â”€ é¡¹ç›®äº¤æ¥æ–‡æ¡£.md               # æœ¬æ–‡æ¡£
â”œâ”€â”€ minimal-example/              # â­ æœ€å°åŒ–AIä¸­å°ç¤ºä¾‹
â”œâ”€â”€ docs/                         # ğŸ“š å®Œæ•´é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ dify/                         # ğŸ¤– Dify AIå¹³å°æºç 
â”œâ”€â”€ figs/                         # ğŸ–¼ï¸ ç³»ç»Ÿç•Œé¢æˆªå›¾
â”œâ”€â”€ packages/                     # ğŸ“¦ è½¯ä»¶åŒ…å’Œèµ„æº
â”œâ”€â”€ configs/                      # âš™ï¸ é…ç½®æ–‡ä»¶æ¨¡æ¿
â””â”€â”€ monitoring/                   # ğŸ“Š ç›‘æ§é…ç½®
```

### é¡¹ç›®ç›®å½•ç»“æ„å›¾

```mermaid
graph TB
    subgraph "ZTZTé¡¹ç›®æ ¹ç›®å½•"
        Root[ZTZT/]
        
        subgraph "æ ¸å¿ƒæ–‡ä»¶"
            README[README.md]
            LICENSE[LICENSE]
            MainPy[main.py]
            Doc[é¡¹ç›®äº¤æ¥æ–‡æ¡£.md]
        end
        
        subgraph "æœ€å°åŒ–ç¤ºä¾‹"
            MinimalExample[minimal-example/]
            
            subgraph "å¯åŠ¨è„šæœ¬"
                QuickStart[quick-start.sh]
                Stop[stop.sh]
            end
            
            subgraph "åç«¯ (Django)"
                Backend[backend/]
                Config[config/settings.py]
                Apps[apps/]
                Auth[authentication/]
                DataPlatform[data_platform/]
                AlgoPlatform[algorithm_platform/]
                ModelPlatform[model_platform/]
                ServicePlatform[service_platform/]
            end
            
            subgraph "å‰ç«¯ (Next.js)"
                Frontend[frontend/]
                Src[src/]
                AppRouter[app/]
                Components[components/]
                Lib[lib/]
            end
            
            subgraph "å®¹å™¨åŒ–"
                Docker[docker/]
                DockerCompose[docker-compose.yml]
                DifyCompose[dify-docker-compose.yml]
                Nginx[nginx/]
            end
            
            subgraph "å·¥å…·è„šæœ¬"
                Scripts[scripts/]
                SetupEnv[setup-environment.sh]
                EnvConfig[env-config.sh]
                HealthCheck[health-check.sh]
            end
        end
        
        subgraph "Dify AIå¹³å°"
            Dify[dify/]
            DifyAPI[api/]
            DifyWeb[web/]
            DifyDocker[docker/]
        end
        
        subgraph "æ–‡æ¡£ç³»ç»Ÿ"
            Docs[docs/]
            Deployment[deployment/]
            Development[development/]
            Info[info/]
        end
        
        subgraph "é…ç½®æ–‡ä»¶"
            Configs[configs/]
            DockerComposeConfigs[docker-compose/]
            HelmValues[helm-values/]
            Kubernetes[kubernetes/]
        end
        
        subgraph "èµ„æºæ–‡ä»¶"
            Packages[packages/]
            Figs[figs/]
            Monitoring[monitoring/]
        end
    end
    
    %% è¿æ¥å…³ç³»
    Root --> README
    Root --> LICENSE
    Root --> MainPy
    Root --> Doc
    Root --> MinimalExample
    Root --> Dify
    Root --> Docs
    Root --> Configs
    Root --> Packages
    Root --> Figs
    Root --> Monitoring
    
    MinimalExample --> QuickStart
    MinimalExample --> Stop
    MinimalExample --> Backend
    MinimalExample --> Frontend
    MinimalExample --> Docker
    MinimalExample --> Scripts
    
    Backend --> Config
    Backend --> Apps
    Apps --> Auth
    Apps --> DataPlatform
    Apps --> AlgoPlatform
    Apps --> ModelPlatform
    Apps --> ServicePlatform
    
    Frontend --> Src
    Src --> AppRouter
    Src --> Components
    Src --> Lib
    
    Docker --> DockerCompose
    Docker --> DifyCompose
    Docker --> Nginx
    
    Scripts --> SetupEnv
    Scripts --> EnvConfig
    Scripts --> HealthCheck
    
    Dify --> DifyAPI
    Dify --> DifyWeb
    Dify --> DifyDocker
    
    Docs --> Deployment
    Docs --> Development
    Docs --> Info
    
    Configs --> DockerComposeConfigs
    Configs --> HelmValues
    Configs --> Kubernetes
    
    %% æ ·å¼å®šä¹‰
    classDef root fill:#e1f5fe
    classDef core fill:#f3e5f5
    classDef backend fill:#e8f5e8
    classDef frontend fill:#fff3e0
    classDef docker fill:#fce4ec
    classDef scripts fill:#f1f8e9
    classDef dify fill:#e0f2f1
    classDef docs fill:#fff8e1
    classDef configs fill:#f8bbd9
    classDef resources fill:#e8eaf6
    
    class Root,MinimalExample root
    class README,LICENSE,MainPy,Doc,QuickStart,Stop core
    class Backend,Config,Apps,Auth,DataPlatform,AlgoPlatform,ModelPlatform,ServicePlatform backend
    class Frontend,Src,AppRouter,Components,Lib frontend
    class Docker,DockerCompose,DifyCompose,Nginx,DifyDocker docker
    class Scripts,SetupEnv,EnvConfig,HealthCheck scripts
    class Dify,DifyAPI,DifyWeb dify
    class Docs,Deployment,Development,Info docs
    class Configs,DockerComposeConfigs,HelmValues,Kubernetes configs
    class Packages,Figs,Monitoring resources
```

### æœ€å°åŒ–ç¤ºä¾‹è¯¦ç»†ç»“æ„
```
minimal-example/
â”œâ”€â”€ quick-start.sh               # ğŸš€ å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”œâ”€â”€ stop.sh                      # ğŸ›‘ åœæ­¢è„šæœ¬
â”œâ”€â”€ README.md                    # ç¤ºä¾‹æ–‡æ¡£
â”œâ”€â”€ backend/                     # ğŸ Djangoåç«¯
â”‚   â”œâ”€â”€ config/                  # Djangoé…ç½®
â”‚   â”‚   â”œâ”€â”€ settings.py         # ä¸»é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ urls.py             # URLè·¯ç”±
â”‚   â”‚   â””â”€â”€ wsgi.py             # WSGIå…¥å£
â”‚   â”œâ”€â”€ apps/                    # åº”ç”¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ authentication/     # è®¤è¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ data_platform/      # æ•°æ®å¹³å°
â”‚   â”‚   â”œâ”€â”€ algorithm_platform/ # ç®—æ³•å¹³å°
â”‚   â”‚   â”œâ”€â”€ model_platform/     # æ¨¡å‹å¹³å°
â”‚   â”‚   â””â”€â”€ service_platform/   # æœåŠ¡å¹³å°
â”‚   â”œâ”€â”€ manage.py               # Djangoç®¡ç†è„šæœ¬
â”‚   â”œâ”€â”€ requirements.txt        # Pythonä¾èµ–
â”‚   â””â”€â”€ venv/                   # Pythonè™šæ‹Ÿç¯å¢ƒ
â”œâ”€â”€ frontend/                    # ğŸ¨ Next.jså‰ç«¯
â”‚   â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ app/                # App Router
â”‚   â”‚   â”œâ”€â”€ components/         # Reactç»„ä»¶
â”‚   â”‚   â””â”€â”€ lib/                # å·¥å…·åº“
â”‚   â”œâ”€â”€ package.json            # Node.jsä¾èµ–
â”‚   â”œâ”€â”€ next.config.js          # Next.jsé…ç½®
â”‚   â””â”€â”€ node_modules/           # Node.jsæ¨¡å—
â”œâ”€â”€ docker/                      # ğŸ³ Dockeré…ç½®
â”‚   â”œâ”€â”€ docker-compose.yml      # åŸºç¡€æœåŠ¡
â”‚   â”œâ”€â”€ dify-docker-compose.yml # DifyæœåŠ¡
â”‚   â”œâ”€â”€ docker-compose.offline.yml # ç¦»çº¿æœåŠ¡
â”‚   â””â”€â”€ nginx/                  # Nginxé…ç½®
â”œâ”€â”€ scripts/                     # ğŸ“œ å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ setup-environment.sh    # ç¯å¢ƒé…ç½®è„šæœ¬
â”‚   â”œâ”€â”€ env-config.sh           # ç¯å¢ƒåˆ‡æ¢è„šæœ¬
â”‚   â””â”€â”€ health-check.sh         # å¥åº·æ£€æŸ¥è„šæœ¬
â”œâ”€â”€ logs/                        # ğŸ“„ æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ data/                        # ğŸ’¾ æ•°æ®æ–‡ä»¶
â””â”€â”€ .env-status/                 # ğŸ”§ ç¯å¢ƒçŠ¶æ€æ–‡ä»¶
```

### é‡è¦é…ç½®æ–‡ä»¶
| æ–‡ä»¶è·¯å¾„ | ç”¨é€” | é‡è¦æ€§ |
|----------|------|--------|
| `minimal-example/backend/config/settings.py` | Djangoä¸»é…ç½® | â­â­â­ |
| `minimal-example/frontend/next.config.js` | Next.jsé…ç½® | â­â­â­ |
| `minimal-example/docker/docker-compose.yml` | DockeråŸºç¡€æœåŠ¡ | â­â­â­ |
| `minimal-example/docker/dify-docker-compose.yml` | DifyæœåŠ¡é…ç½® | â­â­ |
| `minimal-example/backend/.env` | ç¯å¢ƒå˜é‡ | â­â­â­ |

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

### éƒ¨ç½²æµç¨‹å›¾

```mermaid
flowchart TD
    A[SSHè¿æ¥æœåŠ¡å™¨] --> B{é¦–æ¬¡éƒ¨ç½²?}
    B -->|æ˜¯| C[è¿è¡Œç¯å¢ƒé…ç½®è„šæœ¬<br/>./scripts/setup-environment.sh]
    B -->|å¦| D[é€‰æ‹©ç¯å¢ƒæ¨¡å¼]
    
    C --> D
    
    D --> E{é€‰æ‹©ç¯å¢ƒ}
    E -->|å¼€å‘ç¯å¢ƒ| F[./scripts/env-config.sh dev]
    E -->|ç”Ÿäº§ç¯å¢ƒ| G[./scripts/env-config.sh prod]
    
    F --> H[å¯åŠ¨æœåŠ¡<br/>./quick-start.sh]
    G --> H
    
    H --> I{å¯ç”¨Dify?}
    I -->|æ˜¯| J[é»˜è®¤å¯åŠ¨æ‰€æœ‰æœåŠ¡]
    I -->|å¦| K[./quick-start.sh --no-dify]
    
    J --> L[æ£€æŸ¥æœåŠ¡çŠ¶æ€]
    K --> L
    
    L --> M{æœåŠ¡æ­£å¸¸?}
    M -->|æ˜¯| N[âœ… éƒ¨ç½²å®Œæˆ<br/>è®¿é—®åº”ç”¨ç•Œé¢]
    M -->|å¦| O[æŸ¥çœ‹æ—¥å¿—æ’æŸ¥é—®é¢˜<br/>tail -f logs/backend.log]
    
    O --> P[ä¿®å¤é—®é¢˜]
    P --> H
    
    N --> Q[ç›‘æ§ç³»ç»ŸçŠ¶æ€<br/>è®¿é—®Grafanaé¢æ¿]
    
    style A fill:#e1f5fe
    style N fill:#e8f5e8
    style O fill:#ffebee
    style Q fill:#f3e5f5
```

### ç¬¬ä¸€æ¬¡éƒ¨ç½²æµç¨‹ (âš ï¸ v2025.6æ›´æ–°)

#### 1. ç¯å¢ƒé…ç½®(ä»…é¦–æ¬¡)
```bash
# ç™»å½•æœåŠ¡å™¨
ssh lsyzt@192.168.110.88

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /home/lsyzt/ZTZT/minimal-example

# ğŸ†• é¦–æ¬¡é…ç½®ç¯å¢ƒ(ä¸€æ¬¡æ€§æ“ä½œ)
./scripts/setup-environment.sh

# å¯é€‰å‚æ•°:
# ./scripts/setup-environment.sh --no-dify        # è·³è¿‡Difyç¯å¢ƒé…ç½®
# ./scripts/setup-environment.sh --force-rebuild # å¼ºåˆ¶é‡æ–°æ„å»ºæ‰€æœ‰é•œåƒ
```

#### 2. ğŸ†• ç¯å¢ƒåˆ‡æ¢(å¼€å‘/ç”Ÿäº§)
```bash
# ğŸ†• å¼€å‘ç¯å¢ƒ(localhost) - è‡ªåŠ¨é…ç½®æ‰€æœ‰localhoståœ°å€
./scripts/env-config.sh dev

# ğŸ†• ç”Ÿäº§ç¯å¢ƒ(192.168.110.88) - è‡ªåŠ¨é…ç½®æ‰€æœ‰æœåŠ¡å™¨åœ°å€  
./scripts/env-config.sh prod

# ğŸ†• æŸ¥çœ‹å½“å‰ç¯å¢ƒçŠ¶æ€
./scripts/env-config.sh status
```

#### 3. å¯åŠ¨æ‰€æœ‰æœåŠ¡
```bash
# ğŸ†• å¯åŠ¨AIä¸­å°æœåŠ¡(é»˜è®¤åŒ…å«Dify AIå¹³å°)
./quick-start.sh

# å¦‚æœè¦ä»…å¯åŠ¨AIä¸­å°(ä¸å¯åŠ¨Dify)
./quick-start.sh --no-dify
```

#### 4. ğŸ†• éªŒè¯æœåŠ¡è®¿é—®
```bash
# AIä¸­å°ç»Ÿä¸€å…¥å£(æ¨è)
curl http://192.168.110.88:80

# Dify AIå¹³å°
curl http://192.168.110.88:8080

# å‰ç«¯ç›´æ¥è®¿é—®
curl http://192.168.110.88:3000

# åç«¯ç›´æ¥è®¿é—®  
curl http://192.168.110.88:8000/health
```

### å¸¸ç”¨æ“ä½œå‘½ä»¤

#### æœåŠ¡æ§åˆ¶
```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
./stop.sh

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker compose -f docker/docker-compose.yml ps
docker compose -f docker/dify-docker-compose.yml ps

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
tail -f logs/backend.log
tail -f logs/frontend.log
```

#### ç¯å¢ƒç®¡ç†
```bash
# æŸ¥çœ‹å½“å‰ç¯å¢ƒçŠ¶æ€
cat .env-status/current-env

# é‡ç½®ç¯å¢ƒé…ç½®
./scripts/setup-environment.sh --reset

# å¥åº·æ£€æŸ¥
./scripts/health-check.sh
```

### æœåŠ¡è®¿é—®åœ°å€ (âš ï¸ v2025.6æ›´æ–°)

#### ğŸ†• æ¨èè®¿é—®æ–¹å¼
- **AIä¸­å°ç»Ÿä¸€å…¥å£**: http://192.168.110.88:80 (åŒ…å«å‰ç«¯+åç«¯+ç®¡ç†åå°)
- **Dify AIå¹³å°**: http://192.168.110.88:8080 (AIåº”ç”¨æ„å»ºå¹³å°)

#### ä¸»è¦ç•Œé¢  
- **å‰ç«¯ç”¨æˆ·ç•Œé¢**: http://192.168.110.88:3000 (ç›´æ¥è®¿é—®)
- **åç«¯APIæœåŠ¡**: http://192.168.110.88:8000 (ç›´æ¥è®¿é—®)
- **Djangoç®¡ç†åå°**: http://192.168.110.88:80/admin/ (é€šè¿‡ç»Ÿä¸€å…¥å£)
- **APIæ–‡æ¡£(Swagger)**: http://192.168.110.88:80/swagger/ (é€šè¿‡ç»Ÿä¸€å…¥å£)

#### ç›‘æ§ç•Œé¢
- **Grafanaä¸»ç›‘æ§**: http://192.168.110.88:3002 (ç«¯å£å·²è°ƒæ•´)
- **Prometheus**: http://localhost:9090
- **MinIOæ§åˆ¶å°**: http://localhost:9001

---

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒé…ç½®

### åç«¯å¼€å‘ç¯å¢ƒ

#### Pythonç¯å¢ƒ
```bash
# è¿›å…¥åç«¯ç›®å½•
cd /home/lsyzt/ZTZT/minimal-example/backend

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œè¿ç§»
python manage.py migrate

# åˆ›å»ºè¶…çº§ç”¨æˆ·
python manage.py createsuperuser

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
python manage.py runserver 0.0.0.0:8000
```

#### åç«¯APIæµ‹è¯•
```bash
# å¥åº·æ£€æŸ¥
curl -X GET http://192.168.110.88:8000/api/v1/health/

# è·å–APIæ–‡æ¡£
curl -X GET http://192.168.110.88:8000/api/schema/
```

### å‰ç«¯å¼€å‘ç¯å¢ƒ

#### Node.jsç¯å¢ƒ
```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd /home/lsyzt/ZTZT/minimal-example/frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

#### å‰ç«¯é…ç½®æ–‡ä»¶
```javascript
// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  env: {
    NEXT_PUBLIC_API_URL: process.env.NEXT_PUBLIC_API_URL || 'http://192.168.110.88:8000',
  },
  async rewrites() {
    return [
      {
        source: '/api/:path*',
        destination: `${process.env.NEXT_PUBLIC_API_URL}/api/:path*`,
      },
    ]
  },
}

module.exports = nextConfig
```

---

## ğŸ“Š ç›‘æ§å’Œè¿ç»´

### ç›‘æ§ç³»ç»Ÿæ¶æ„

```mermaid
graph TB
    subgraph "ç›‘æ§æ ¸å¿ƒ"
        Prometheus[Prometheus<br/>æ•°æ®æ”¶é›†]
        Grafana[Grafana<br/>å¯è§†åŒ–]
        AlertManager[AlertManager<br/>å‘Šè­¦ç®¡ç†]
    end
    
    subgraph "æ•°æ®æº"
        NodeExporter[Node Exporter<br/>ç³»ç»ŸæŒ‡æ ‡]
        PostgreSQLExporter[PostgreSQL Exporter<br/>æ•°æ®åº“æŒ‡æ ‡]
        RedisExporter[Redis Exporter<br/>ç¼“å­˜æŒ‡æ ‡]
        DCGMExporter[DCGM Exporter<br/>GPUæŒ‡æ ‡]
        DjangoApp[Django App<br/>åº”ç”¨æŒ‡æ ‡]
    end
    
    subgraph "å¯è§†åŒ–é¢æ¿"
        SystemDashboard[ç³»ç»Ÿæ¦‚è§ˆ<br/>ä»ªè¡¨ç›˜]
        DatabaseDashboard[æ•°æ®åº“ç›‘æ§<br/>ä»ªè¡¨ç›˜]
        AppDashboard[åº”ç”¨æ€§èƒ½<br/>ä»ªè¡¨ç›˜]
        GPUDashboard[GPUç›‘æ§<br/>ä»ªè¡¨ç›˜]
    end
    
    subgraph "å‘Šè­¦é€šçŸ¥"
        EmailAlert[é‚®ä»¶é€šçŸ¥]
        SMSAlert[çŸ­ä¿¡é€šçŸ¥]
        WebhookAlert[Webhooké€šçŸ¥]
    end
    
    %% æ•°æ®æµå‘
    NodeExporter --> Prometheus
    PostgreSQLExporter --> Prometheus
    RedisExporter --> Prometheus
    DCGMExporter --> Prometheus
    DjangoApp --> Prometheus
    
    Prometheus --> Grafana
    Prometheus --> AlertManager
    
    Grafana --> SystemDashboard
    Grafana --> DatabaseDashboard
    Grafana --> AppDashboard
    Grafana --> GPUDashboard
    
    AlertManager --> EmailAlert
    AlertManager --> SMSAlert
    AlertManager --> WebhookAlert
    
    %% æ ·å¼å®šä¹‰
    classDef core fill:#e3f2fd
    classDef exporter fill:#f1f8e9
    classDef dashboard fill:#fff8e1
    classDef alert fill:#fce4ec
    
    class Prometheus,Grafana,AlertManager core
    class NodeExporter,PostgreSQLExporter,RedisExporter,DCGMExporter,DjangoApp exporter
    class SystemDashboard,DatabaseDashboard,AppDashboard,GPUDashboard dashboard
    class EmailAlert,SMSAlert,WebhookAlert alert
```

### ä¸»è¦ç›‘æ§æŒ‡æ ‡

#### ç³»ç»Ÿç›‘æ§
- **CPUä½¿ç”¨ç‡**: æœåŠ¡å™¨æ•´ä½“CPUè´Ÿè½½
- **å†…å­˜ä½¿ç”¨ç‡**: å†…å­˜å ç”¨æƒ…å†µ
- **ç£ç›˜ä½¿ç”¨ç‡**: å­˜å‚¨ç©ºé—´ä½¿ç”¨æƒ…å†µ
- **ç½‘ç»œI/O**: ç½‘ç»œæµé‡ç»Ÿè®¡

#### åº”ç”¨ç›‘æ§
- **Djangoåº”ç”¨**: HTTPè¯·æ±‚å“åº”æ—¶é—´ã€é”™è¯¯ç‡
- **PostgreSQL**: è¿æ¥æ•°ã€æŸ¥è¯¢æ€§èƒ½ã€é”ç­‰å¾…
- **Redis**: å†…å­˜ä½¿ç”¨ã€å‘½ä¸­ç‡ã€è¿æ¥æ•°
- **Dockerå®¹å™¨**: å®¹å™¨çŠ¶æ€ã€èµ„æºä½¿ç”¨

#### ä¸šåŠ¡ç›‘æ§
- **APIè°ƒç”¨**: å„å¹³å°APIè°ƒç”¨é‡å’Œå“åº”æ—¶é—´
- **ç”¨æˆ·æ´»åŠ¨**: ç”¨æˆ·ç™»å½•ã€æ“ä½œç»Ÿè®¡
- **ä»»åŠ¡æ‰§è¡Œ**: åå°ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€

### Grafanaä»ªè¡¨ç›˜

#### é¢„é…ç½®ä»ªè¡¨ç›˜
1. **ç³»ç»Ÿæ¦‚è§ˆä»ªè¡¨ç›˜** - æ•´ä½“ç³»ç»ŸçŠ¶æ€
2. **æ•°æ®åº“ç›‘æ§ä»ªè¡¨ç›˜** - PostgreSQLå’ŒRedisç›‘æ§
3. **Dockerå®¹å™¨ä»ªè¡¨ç›˜** - å®¹å™¨èµ„æºä½¿ç”¨
4. **åº”ç”¨æ€§èƒ½ä»ªè¡¨ç›˜** - Djangoåº”ç”¨ç›‘æ§
5. **GPUç›‘æ§ä»ªè¡¨ç›˜** - GPUä½¿ç”¨æƒ…å†µ(å¦‚æœæœ‰GPU)

#### è®¿é—®æ–¹å¼
```bash
# ä¸»Grafanaç›‘æ§
http://192.168.110.88:3000
ç”¨æˆ·å: admin
å¯†ç : LSYgrafanaadmin2025

# Dockeréƒ¨ç½²çš„Grafana
http://localhost:3000
ç”¨æˆ·å: admin
å¯†ç : admin123
```

### æ—¥å¿—ç®¡ç†

#### æ—¥å¿—ä½ç½®
```
minimal-example/logs/
â”œâ”€â”€ backend.log          # Djangoåç«¯æ—¥å¿—
â”œâ”€â”€ frontend.log         # Next.jså‰ç«¯æ—¥å¿—
â”œâ”€â”€ docker/              # DockeræœåŠ¡æ—¥å¿—
â”œâ”€â”€ nginx/               # Nginxè®¿é—®æ—¥å¿—
â””â”€â”€ system/              # ç³»ç»Ÿæ—¥å¿—
```

#### æ—¥å¿—æŸ¥çœ‹å‘½ä»¤
```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f logs/backend.log
tail -f logs/frontend.log

# æŸ¥çœ‹DockeræœåŠ¡æ—¥å¿—
docker compose -f docker/docker-compose.yml logs -f
docker compose -f docker/dify-docker-compose.yml logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker logs ai_platform_postgres -f
docker logs ai_platform_dify_api -f
```

---

## ğŸ”§ å¸¸è§é—®é¢˜æ’æŸ¥ (âš ï¸ v2025.6æ›´æ–°)

### ğŸ†• ç«¯å£å†²çªé—®é¢˜
> **æœ€å¸¸è§é—®é¢˜**: Difyä¸AIä¸­å°çš„ç«¯å£80å†²çªå·²è§£å†³

#### ç«¯å£å†²çªè§£å†³æ–¹æ¡ˆ
```bash
# æ£€æŸ¥ç«¯å£å ç”¨æƒ…å†µ
netstat -tlnp | grep -E "(80|8080|3000|8000)"

# å¦‚æœå‘ç°ç«¯å£80è¢«å…¶ä»–æœåŠ¡å ç”¨:
sudo fuser -k 80/tcp  # å¼ºåˆ¶é‡Šæ”¾ç«¯å£80

# é‡æ–°å¯åŠ¨æœåŠ¡
./stop.sh && ./quick-start.sh
```

#### ğŸ†• ç«¯å£è®¿é—®éªŒè¯
```bash
# éªŒè¯AIä¸­å°ç»Ÿä¸€å…¥å£ (ç«¯å£80)
curl -I http://192.168.110.88:80

# éªŒè¯Dify AIå¹³å° (ç«¯å£8080)  
curl -I http://192.168.110.88:8080

# éªŒè¯å‰ç«¯ç›´æ¥è®¿é—® (ç«¯å£3000)
curl -I http://192.168.110.88:3000

# éªŒè¯åç«¯ç›´æ¥è®¿é—® (ç«¯å£8000)
curl -I http://192.168.110.88:8000
```

### ğŸ†• ç¯å¢ƒé…ç½®é—®é¢˜
#### ç¯å¢ƒåˆ‡æ¢å¤±è´¥
```bash
# æ£€æŸ¥å½“å‰ç¯å¢ƒçŠ¶æ€
./scripts/env-config.sh status

# å¼ºåˆ¶é‡æ–°åˆ‡æ¢ç¯å¢ƒ
./scripts/env-config.sh dev --force
./scripts/env-config.sh prod --force

# å¦‚æœé…ç½®æ–‡ä»¶æŸåï¼Œæ¢å¤å¤‡ä»½
./scripts/env-config.sh restore
```

#### é…ç½®æ–‡ä»¶ç¼ºå¤±
```bash
# æ£€æŸ¥å¿…è¦çš„é…ç½®æ–‡ä»¶
ls -la .env*
ls -la .env-status/

# é‡æ–°ç”Ÿæˆé…ç½®æ–‡ä»¶
./scripts/env-config.sh dev
```

### æ•…éšœè¯Šæ–­æµç¨‹

```mermaid
flowchart TD
    A[å‘ç°æœåŠ¡å¼‚å¸¸] --> B[æ£€æŸ¥æœåŠ¡çŠ¶æ€]
    B --> C{æœåŠ¡ç±»å‹}
    
    C -->|WebæœåŠ¡| D[æ£€æŸ¥ç«¯å£å ç”¨<br/>netstat -tlnp]
    C -->|æ•°æ®åº“| E[æ£€æŸ¥æ•°æ®åº“è¿æ¥<br/>docker exec -it xxx ping]
    C -->|Docker| F[æ£€æŸ¥å®¹å™¨çŠ¶æ€<br/>docker ps]
    
    D --> G{ç«¯å£è¢«å ç”¨?}
    G -->|æ˜¯| H[æ€æ­»å ç”¨è¿›ç¨‹<br/>kill -9 PID]
    G -->|å¦| I[æ£€æŸ¥åº”ç”¨æ—¥å¿—<br/>tail -f logs/]
    
    E --> J{è¿æ¥æ­£å¸¸?}
    J -->|å¦| K[é‡å¯æ•°æ®åº“å®¹å™¨<br/>docker restart]
    J -->|æ˜¯| L[æ£€æŸ¥æ•°æ®åº“é…ç½®]
    
    F --> M{å®¹å™¨è¿è¡Œ?}
    M -->|å¦| N[å¯åŠ¨å®¹å™¨<br/>docker start]
    M -->|å¼‚å¸¸| O[æŸ¥çœ‹å®¹å™¨æ—¥å¿—<br/>docker logs]
    
    H --> P[é‡å¯æœåŠ¡]
    I --> Q{æ‰¾åˆ°é”™è¯¯?}
    K --> P
    L --> R[æ£€æŸ¥é…ç½®æ–‡ä»¶]
    N --> P
    O --> S[åˆ†æé”™è¯¯ä¿¡æ¯]
    
    Q -->|æ˜¯| S
    Q -->|å¦| T[æ£€æŸ¥ç³»ç»Ÿèµ„æº<br/>top, df -h]
    
    R --> U[ä¿®å¤é…ç½®]
    S --> V[ä¿®å¤é—®é¢˜]
    T --> W[æ¸…ç†èµ„æº]
    
    U --> P
    V --> P
    W --> P
    
    P --> X[éªŒè¯æœåŠ¡æ­£å¸¸]
    X --> Y{æœåŠ¡æ­£å¸¸?}
    Y -->|æ˜¯| Z[âœ… é—®é¢˜è§£å†³]
    Y -->|å¦| AA[æ·±å…¥åˆ†æ<br/>è”ç³»æŠ€æœ¯æ”¯æŒ]
    
    style A fill:#ffebee
    style Z fill:#e8f5e8
    style AA fill:#fff3e0
    style S fill:#f3e5f5
```

### æœåŠ¡å¯åŠ¨é—®é¢˜

#### 1. ğŸ†• ç«¯å£å ç”¨é—®é¢˜ (é‡ç‚¹å…³æ³¨)
```bash
# æ£€æŸ¥å…³é”®ç«¯å£å ç”¨ (æ–°æ¶æ„)
netstat -tlnp | grep -E "(80|8080|3000|8000|5432|6379)"

# ç«¯å£80 (AIä¸­å°ç»Ÿä¸€å…¥å£)
sudo fuser -k 80/tcp

# ç«¯å£8080 (Dify AIå¹³å°)  
sudo fuser -k 8080/tcp

# å…¶ä»–å…³é”®ç«¯å£
sudo fuser -k 3000/tcp  # å‰ç«¯
sudo fuser -k 8000/tcp  # åç«¯

# æ¸…ç†Dockerç½‘ç»œ
docker network prune
```

#### 2. ğŸ†• ç»Ÿä¸€å…¥å£nginxé—®é¢˜
```bash
# æ£€æŸ¥AIä¸­å°nginxé…ç½®
cat docker/ai-platform-nginx.conf

# æ£€æŸ¥nginxå®¹å™¨çŠ¶æ€
docker ps | grep nginx

# é‡å¯nginxä»£ç†
docker compose -f docker/docker-compose.yml restart ai-platform-nginx
```

#### 3. ğŸ†• DifyæœåŠ¡é—®é¢˜
```bash
# æ£€æŸ¥DifyæœåŠ¡çŠ¶æ€
docker compose -f docker/dify-docker-compose.yml ps

# æ£€æŸ¥Dify APIè¿æ¥
curl http://localhost:5001/health

# é‡å¯DifyæœåŠ¡
docker compose -f docker/dify-docker-compose.yml restart
```

#### 2. DockeræœåŠ¡é—®é¢˜
```bash
# æ£€æŸ¥DockeræœåŠ¡çŠ¶æ€
systemctl status docker

# é‡å¯DockeræœåŠ¡
sudo systemctl restart docker

# æ£€æŸ¥Dockerç½‘ç»œ
docker network ls | grep ai_platform_network

# é‡å»ºDockerç½‘ç»œ
docker network create ai_platform_network
```

#### 3. æ•°æ®åº“è¿æ¥é—®é¢˜
```bash
# æ£€æŸ¥PostgreSQLçŠ¶æ€
docker exec -it ai_platform_postgres pg_isready

# æ£€æŸ¥RedisçŠ¶æ€
docker exec -it ai_platform_redis redis-cli ping

# é‡ç½®æ•°æ®åº“è¿æ¥
docker compose -f docker/docker-compose.yml restart postgres redis
```

### æƒé™é—®é¢˜

#### æ–‡ä»¶æƒé™
```bash
# æ£€æŸ¥é¡¹ç›®æ–‡ä»¶æƒé™
ls -la /home/lsyzt/ZTZT/minimal-example/

# ä¿®å¤è„šæœ¬æ‰§è¡Œæƒé™
chmod +x /home/lsyzt/ZTZT/minimal-example/quick-start.sh
chmod +x /home/lsyzt/ZTZT/minimal-example/stop.sh
chmod +x /home/lsyzt/ZTZT/minimal-example/scripts/*.sh

# ä¿®å¤æ—¥å¿—ç›®å½•æƒé™
chmod 755 /home/lsyzt/ZTZT/minimal-example/logs/
```

#### Dockeræƒé™
```bash
# å°†ç”¨æˆ·æ·»åŠ åˆ°dockerç»„
sudo usermod -aG docker lsyzt

# é‡æ–°ç™»å½•æˆ–é‡æ–°åŠ è½½ç”¨æˆ·ç»„
newgrp docker
```

### æ€§èƒ½é—®é¢˜

#### ç³»ç»Ÿèµ„æºæ£€æŸ¥
```bash
# æ£€æŸ¥CPUå’Œå†…å­˜ä½¿ç”¨
top
htop

# æ£€æŸ¥ç£ç›˜ä½¿ç”¨
df -h
du -sh /home/lsyzt/ZTZT/

# æ£€æŸ¥Dockerèµ„æºä½¿ç”¨
docker stats
```

#### æ•°æ®åº“æ€§èƒ½
```bash
# PostgreSQLæ€§èƒ½æ£€æŸ¥
docker exec -it ai_platform_postgres psql -U aiuser -d ai_platform -c "
SELECT 
    datname,
    numbackends,
    xact_commit,
    xact_rollback,
    blks_read,
    blks_hit
FROM pg_stat_database 
WHERE datname = 'ai_platform';"

# Redisæ€§èƒ½æ£€æŸ¥
docker exec -it ai_platform_redis redis-cli info stats
```

### ç½‘ç»œé—®é¢˜

#### è¿æ¥æµ‹è¯•
```bash
# æµ‹è¯•æœ¬åœ°æœåŠ¡è¿é€šæ€§
curl -f http://localhost:8000/api/v1/health/
curl -f http://localhost:3000

# æµ‹è¯•å¤–éƒ¨è®¿é—®
curl -f http://192.168.110.88:8000/api/v1/health/
curl -f http://192.168.110.88:3000

# æ£€æŸ¥é˜²ç«å¢™çŠ¶æ€
sudo ufw status
```

### æ•…éšœæ¢å¤æµç¨‹

#### 1. å¿«é€Ÿé‡å¯æµç¨‹
```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
./stop.sh

# ç­‰å¾…10ç§’
sleep 10

# é‡æ–°å¯åŠ¨
./quick-start.sh
```

#### 2. å®Œå…¨é‡ç½®æµç¨‹
```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
./stop.sh

# æ¸…ç†Dockerèµ„æº
docker system prune -f

# é‡å»ºç¯å¢ƒ
./scripts/setup-environment.sh --reset

# é‡æ–°é…ç½®ç¯å¢ƒ
./scripts/env-config.sh prod

# é‡æ–°å¯åŠ¨
./quick-start.sh
```

---

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

### å®‰å…¨è¦æ±‚

#### 1. å¯†ç å®‰å…¨
- ğŸš¨ **ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä¿®æ”¹æ‰€æœ‰é»˜è®¤å¯†ç **
- ğŸ”’ ä½¿ç”¨å¼ºå¯†ç ç­–ç•¥(å¤§å°å†™å­—æ¯+æ•°å­—+ç‰¹æ®Šå­—ç¬¦)
- ğŸ”„ å®šæœŸè½®æ¢å¯†ç (å»ºè®®æ¯90å¤©)
- ğŸ“ å»ºè®®ä½¿ç”¨å¯†é’¥ç®¡ç†ç³»ç»Ÿ

#### 2. ç½‘ç»œå®‰å…¨
- ğŸ”’ ç”Ÿäº§ç¯å¢ƒä»…å…è®¸å†…ç½‘è®¿é—®ç®¡ç†æ¥å£
- ğŸ›¡ï¸ é…ç½®é€‚å½“çš„é˜²ç«å¢™è§„åˆ™
- ğŸ” å¯ç”¨HTTPSåŠ å¯†ä¼ è¾“
- ğŸ‘¥ å®æ–½åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶

#### 3. æ•°æ®å®‰å…¨
- ğŸ’¾ å®šæœŸå¤‡ä»½é‡è¦æ•°æ®åº“
- ğŸ” å¯ç”¨æ•°æ®åº“åŠ å¯†
- ğŸ“‹ å»ºç«‹æ•°æ®è®¿é—®å®¡è®¡æ—¥å¿—
- ğŸ—„ï¸ å®šæœŸæ¸…ç†ä¸´æ—¶æ•°æ®

### è¿ç»´è¦æ±‚

#### 1. ç›‘æ§å‘Šè­¦
- ğŸ“Š ç¡®ä¿ç›‘æ§ç³»ç»Ÿæ­£å¸¸è¿è¡Œ
- ğŸ”” é…ç½®å…³é”®æŒ‡æ ‡å‘Šè­¦é˜ˆå€¼
- ğŸ“§ è®¾ç½®å‘Šè­¦é€šçŸ¥æ¸ é“
- ğŸ“ˆ å®šæœŸæ£€æŸ¥ç›‘æ§æ•°æ®

#### 2. å¤‡ä»½ç­–ç•¥
- ğŸ—‚ï¸ æ¯æ—¥å¤‡ä»½PostgreSQLæ•°æ®åº“
- ğŸ’¾ æ¯å‘¨å¤‡ä»½å®Œæ•´ç³»ç»Ÿé…ç½®
- â˜ï¸ å¤‡ä»½æ–‡ä»¶å­˜å‚¨åˆ°è¿œç¨‹ä½ç½®
- ğŸ”„ å®šæœŸæµ‹è¯•å¤‡ä»½æ¢å¤æµç¨‹

#### 3. æ›´æ–°ç»´æŠ¤
- ğŸ”„ å®šæœŸæ›´æ–°ç³»ç»Ÿå®‰å…¨è¡¥ä¸
- ğŸ“¦ åŠæ—¶æ›´æ–°Dockeré•œåƒ
- ğŸ§ª åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯æ›´æ–°
- ğŸ“‹ ç»´æŠ¤æ“ä½œå‰è¿›è¡Œå¤‡ä»½

### ç¯å¢ƒç®¡ç†

#### 1. å¼€å‘ç¯å¢ƒ
- ğŸ’» ä½¿ç”¨localhostè¿›è¡Œæœ¬åœ°å¼€å‘
- ğŸ”§ å¼€å‘ç¯å¢ƒç‹¬ç«‹çš„æ•°æ®åº“
- ğŸ“ å¼€å‘ç¯å¢ƒå…è®¸è°ƒè¯•æ¨¡å¼
- ğŸ§ª é›†æˆè‡ªåŠ¨åŒ–æµ‹è¯•

#### 2. ç”Ÿäº§ç¯å¢ƒ
- ğŸ­ ä½¿ç”¨192.168.110.88çš„ç”Ÿäº§æœåŠ¡å™¨
- ğŸ”’ å…³é—­è°ƒè¯•æ¨¡å¼å’Œè¯¦ç»†é”™è¯¯ä¿¡æ¯
- ğŸ“Š å¯ç”¨å®Œæ•´çš„ç›‘æ§å’Œæ—¥å¿—
- ğŸ›¡ï¸ ä¸¥æ ¼çš„å®‰å…¨é…ç½®

### åº”æ€¥é¢„æ¡ˆ

#### åº”æ€¥å¤„ç†æµç¨‹å›¾

```mermaid
flowchart TD
    A[ğŸš¨ å‘ç°ç³»ç»Ÿå¼‚å¸¸] --> B{äº‹ä»¶ç±»å‹}
    
    B -->|æœåŠ¡ä¸­æ–­| C[æœåŠ¡ä¸­æ–­å¤„ç†]
    B -->|æ•°æ®ä¸¢å¤±| D[æ•°æ®ä¸¢å¤±å¤„ç†]
    B -->|å®‰å…¨äº‹ä»¶| E[å®‰å…¨äº‹ä»¶å¤„ç†]
    B -->|æ€§èƒ½é—®é¢˜| F[æ€§èƒ½é—®é¢˜å¤„ç†]
    
    subgraph "æœåŠ¡ä¸­æ–­å¤„ç†æµç¨‹"
        C --> C1[ç«‹å³æ£€æŸ¥ç›‘æ§ç³»ç»Ÿ<br/>ç¡®å®šæ•…éšœèŒƒå›´]
        C1 --> C2[æŸ¥çœ‹æœåŠ¡æ—¥å¿—<br/>tail -f logs/]
        C2 --> C3[ç¡®å®šæ•…éšœåŸå› ]
        C3 --> C4{æ•…éšœç±»å‹}
        C4 -->|ç«¯å£å†²çª| C5[æ¸…ç†å ç”¨è¿›ç¨‹<br/>kill -9 PID]
        C4 -->|å®¹å™¨å¼‚å¸¸| C6[é‡å¯DockeræœåŠ¡<br/>docker restart]
        C4 -->|é…ç½®é”™è¯¯| C7[ä¿®å¤é…ç½®æ–‡ä»¶]
        C5 --> C8[é‡å¯æœåŠ¡<br/>./quick-start.sh]
        C6 --> C8
        C7 --> C8
        C8 --> C9[éªŒè¯æœåŠ¡æ¢å¤]
    end
    
    subgraph "æ•°æ®ä¸¢å¤±å¤„ç†æµç¨‹"
        D --> D1[ğŸ›‘ ç«‹å³åœæ­¢ç›¸å…³æœåŠ¡<br/>./stop.sh]
        D1 --> D2[è¯„ä¼°æ•°æ®ä¸¢å¤±èŒƒå›´]
        D2 --> D3[æ£€æŸ¥å¤‡ä»½å¯ç”¨æ€§]
        D3 --> D4{æœ‰å¯ç”¨å¤‡ä»½?}
        D4 -->|æ˜¯| D5[ä»å¤‡ä»½æ¢å¤æ•°æ®<br/>pg_restore/redis-cli]
        D4 -->|å¦| D6[å°è¯•æ•°æ®æ¢å¤å·¥å…·]
        D5 --> D7[éªŒè¯æ•°æ®å®Œæ•´æ€§]
        D6 --> D7
        D7 --> D8[é‡å¯æœåŠ¡å¹¶æµ‹è¯•]
    end
    
    subgraph "å®‰å…¨äº‹ä»¶å¤„ç†æµç¨‹"
        E --> E1[ğŸ”’ ç«‹å³éš”ç¦»ç³»ç»Ÿ<br/>æ–­ç½‘/åœæœº]
        E1 --> E2[æ”¶é›†å®‰å…¨äº‹ä»¶è¯æ®<br/>æ—¥å¿—/æˆªå›¾]
        E2 --> E3[åˆ†ææ”»å‡»æ–¹å¼]
        E3 --> E4[è¯„ä¼°å½±å“èŒƒå›´]
        E4 --> E5[ä¿®å¤å®‰å…¨æ¼æ´]
        E5 --> E6[æ›´æ¢æ‰€æœ‰å¯†ç ]
        E6 --> E7[å¼ºåŒ–å®‰å…¨æªæ–½]
        E7 --> E8[ç›‘æ§å¼‚å¸¸æ´»åŠ¨]
    end
    
    subgraph "æ€§èƒ½é—®é¢˜å¤„ç†æµç¨‹"
        F --> F1[æ£€æŸ¥ç³»ç»Ÿèµ„æº<br/>top, df -h]
        F1 --> F2[åˆ†ææ€§èƒ½ç“¶é¢ˆ]
        F2 --> F3{é—®é¢˜ç±»å‹}
        F3 -->|CPUé«˜| F4[ä¼˜åŒ–è¿›ç¨‹é…ç½®]
        F3 -->|å†…å­˜ä¸è¶³| F5[å¢åŠ å†…å­˜/ä¼˜åŒ–ç¼“å­˜]
        F3 -->|ç£ç›˜æ»¡| F6[æ¸…ç†æ—¥å¿—æ–‡ä»¶]
        F3 -->|ç½‘ç»œæ…¢| F7[ä¼˜åŒ–ç½‘ç»œé…ç½®]
        F4 --> F8[é‡å¯ç›¸å…³æœåŠ¡]
        F5 --> F8
        F6 --> F8
        F7 --> F8
        F8 --> F9[ç›‘æ§æ€§èƒ½æŒ‡æ ‡]
    end
    
    C9 --> G[ğŸ“ è®°å½•æ•…éšœè¯¦æƒ…]
    D8 --> G
    E8 --> G
    F9 --> G
    
    G --> H[ğŸ“‹ ç¼–å†™æ•…éšœæŠ¥å‘Š]
    H --> I[ğŸ” æ ¹å› åˆ†æ]
    I --> J[ğŸ“ˆ æ”¹è¿›æªæ–½]
    J --> K[âœ… å®Œæˆå¤„ç†]
    
    %% æ ·å¼å®šä¹‰
    classDef emergency fill:#ffcdd2
    classDef service fill:#e1f5fe
    classDef data fill:#e8f5e8
    classDef security fill:#fff3e0
    classDef performance fill:#f3e5f5
    classDef completed fill:#c8e6c9
    
    class A emergency
    class C,C1,C2,C3,C4,C5,C6,C7,C8,C9 service
    class D,D1,D2,D3,D4,D5,D6,D7,D8 data
    class E,E1,E2,E3,E4,E5,E6,E7,E8 security
    class F,F1,F2,F3,F4,F5,F6,F7,F8,F9 performance
    class K completed
```

#### 1. æœåŠ¡ä¸­æ–­å¤„ç†
1. ç«‹å³æ£€æŸ¥ç›‘æ§ç³»ç»Ÿç¡®å®šæ•…éšœèŒƒå›´
2. æŸ¥çœ‹ç›¸å…³æœåŠ¡æ—¥å¿—ç¡®å®šæ•…éšœåŸå› 
3. æ ¹æ®æ•…éšœç±»å‹æ‰§è¡Œå¯¹åº”æ¢å¤æµç¨‹
4. è®°å½•æ•…éšœè¯¦æƒ…å’Œæ¢å¤è¿‡ç¨‹
5. åç»­è¿›è¡Œæ•…éšœæ ¹å› åˆ†æ

#### 2. æ•°æ®ä¸¢å¤±å¤„ç†
1. ç«‹å³åœæ­¢ç›¸å…³æœåŠ¡é˜²æ­¢æ•°æ®è¿›ä¸€æ­¥æŸå
2. è¯„ä¼°æ•°æ®ä¸¢å¤±èŒƒå›´å’Œå½±å“
3. ä»æœ€è¿‘çš„å¤‡ä»½æ¢å¤æ•°æ®
4. éªŒè¯æ•°æ®å®Œæ•´æ€§
5. é‡æ–°å¯åŠ¨æœåŠ¡å¹¶éªŒè¯åŠŸèƒ½

#### 3. å®‰å…¨äº‹ä»¶å¤„ç†
1. ç«‹å³éš”ç¦»å—å½±å“çš„ç³»ç»Ÿ
2. æ”¶é›†å’Œä¿å­˜å®‰å…¨äº‹ä»¶è¯æ®
3. åˆ†ææ”»å‡»æ–¹å¼å’Œå½±å“èŒƒå›´
4. ä¿®å¤å®‰å…¨æ¼æ´
5. å¼ºåŒ–å®‰å…¨æªæ–½

---

## ğŸ“ è”ç³»æ–¹å¼ (âš ï¸ v2025.6æ›´æ–°)

### é¡¹ç›®äº¤æ¥ä¿¡æ¯
| è§’è‰² | è”ç³»æ–¹å¼ | è´Ÿè´£èŒƒå›´ |
|------|----------|----------|
| **åŸå¼€å‘è€…** | lsyzt | æ•´ä½“ç³»ç»Ÿæ¶æ„ã€æŠ€æœ¯æ”¯æŒ |
| **æœåŠ¡å™¨ç®¡ç†** | 192.168.110.88 | Ubuntu 24.04 LTSæœåŠ¡å™¨ |
| **æ–‡æ¡£ä½ç½®** | `/home/lsyzt/ZTZT/docs/` | å®Œæ•´é¡¹ç›®æ–‡æ¡£ |
| **äº¤æ¥æ–‡æ¡£ç‰ˆæœ¬** | v2025.6 | ğŸ†• åŒ…å«ç«¯å£å†²çªè§£å†³æ–¹æ¡ˆ |

### ğŸ†• æœ€æ–°æ¶æ„è®¿é—®åœ°å€
- **AIä¸­å°ç»Ÿä¸€å…¥å£**: http://192.168.110.88:80 (æ¨èè®¿é—®æ–¹å¼)
- **Dify AIå¹³å°**: http://192.168.110.88:8080 (AIåº”ç”¨æ„å»º)
- **ç³»ç»Ÿç›‘æ§**: http://192.168.110.88:3002 (Grafana)
- **APIæ–‡æ¡£**: http://192.168.110.88:80/swagger/ (é€šè¿‡ç»Ÿä¸€å…¥å£)

### æŠ€æœ¯æ”¯æŒ
- **é¡¹ç›®ä»“åº“**: `/home/lsyzt/ZTZT/`
- **æŠ€æœ¯æ–‡æ¡£**: `/home/lsyzt/ZTZT/docs/`
- **äº¤æ¥æ–‡æ¡£**: `/home/lsyzt/ZTZT/é¡¹ç›®äº¤æ¥æ–‡æ¡£.md`
- **ğŸ†• ç«¯å£å†²çªè§£å†³æ–‡æ¡£**: `/home/lsyzt/ZTZT/minimal-example/docs/PORT_CONFLICT_RESOLUTION.md`
- **ğŸ†• ç¯å¢ƒé…ç½®æ–‡æ¡£**: `/home/lsyzt/ZTZT/minimal-example/docs/environment-config.md`

### ğŸ†• å…³é”®æ›´æ–°æ—¥å¿—
- **ç‰ˆæœ¬**: v2025.6 (2025å¹´6æœˆ26æ—¥)
- **æ ¸å¿ƒæ›´æ–°**: ç«¯å£å†²çªè§£å†³ï¼Œç»Ÿä¸€è®¿é—®å…¥å£ï¼Œç¯å¢ƒç®¡ç†ç³»ç»Ÿ
- **æ¶æ„å˜æ›´**: ç«¯å£80(AIä¸­å°) + ç«¯å£8080(Dify)
- **æ–°å¢åŠŸèƒ½**: å¼€å‘/ç”Ÿäº§ç¯å¢ƒä¸€é”®åˆ‡æ¢

---

## ğŸ“‹ äº¤æ¥ç¡®è®¤æ¸…å•

### æŠ€èƒ½è¦æ±‚æ ‘çŠ¶å›¾

```mermaid
mindmap
  root)æ¥æ‰‹é¡¹ç›®éœ€è¦çš„æŠ€èƒ½(
    åŸºç¡€æŠ€èƒ½
      Linuxç³»ç»Ÿç®¡ç†
        SSHè¿æ¥
        æ–‡ä»¶æƒé™ç®¡ç†
        ç³»ç»Ÿç›‘æ§å‘½ä»¤
      Dockerå®¹å™¨æŠ€æœ¯
        DockeråŸºç¡€å‘½ä»¤
        Docker Compose
        å®¹å™¨ç½‘ç»œç®¡ç†
      Gitç‰ˆæœ¬æ§åˆ¶
        ä»£ç æ‹‰å–æ¨é€
        åˆ†æ”¯ç®¡ç†
        å†²çªè§£å†³
    
    åç«¯æŠ€èƒ½
      Pythonå¼€å‘
        Djangoæ¡†æ¶
        Django REST Framework
        è™šæ‹Ÿç¯å¢ƒç®¡ç†
      æ•°æ®åº“ç®¡ç†
        PostgreSQLæ“ä½œ
        Redisç¼“å­˜ç®¡ç†
        æ•°æ®å¤‡ä»½æ¢å¤
      APIå¼€å‘
        RESTfulè®¾è®¡
        JWTè®¤è¯
        APIæ–‡æ¡£ç¼–å†™
    
    å‰ç«¯æŠ€èƒ½
      Node.jsç¯å¢ƒ
        npmåŒ…ç®¡ç†
        ç¯å¢ƒé…ç½®
        ä¾èµ–ç®¡ç†
      Reactå¼€å‘
        Next.jsæ¡†æ¶
        TypeScriptè¯­æ³•
        ç»„ä»¶å¼€å‘
      WebæŠ€æœ¯
        HTML/CSS
        JavaScript ES6+
        å“åº”å¼è®¾è®¡
    
    è¿ç»´æŠ€èƒ½
      ç›‘æ§ç³»ç»Ÿ
        Prometheusé…ç½®
        Grafanaä»ªè¡¨ç›˜
        å‘Šè­¦è®¾ç½®
      æ—¥å¿—ç®¡ç†
        æ—¥å¿—æŸ¥çœ‹åˆ†æ
        é—®é¢˜æ’æŸ¥
        æ€§èƒ½è°ƒä¼˜
      å®‰å…¨ç®¡ç†
        æƒé™æ§åˆ¶
        å¯†ç ç®¡ç†
        ç½‘ç»œå®‰å…¨
    
    AIå¹³å°æŠ€èƒ½
      Difyå¹³å°
        AIåº”ç”¨åˆ›å»º
        å·¥ä½œæµé…ç½®
        æ¨¡å‹ç®¡ç†
      å¤§è¯­è¨€æ¨¡å‹
        æ¨¡å‹éƒ¨ç½²
        APIè°ƒç”¨
        æ€§èƒ½ä¼˜åŒ–
      GPUç®¡ç†
        GPUç›‘æ§
        èµ„æºåˆ†é…
        æ€§èƒ½è°ƒä¼˜
```
---

## ğŸ¯ é¡¹ç›®æ ¸å¿ƒæ¶æ„æ€»è§ˆ

### ZTZT AIä¸­å°æ ¸å¿ƒç»„ä»¶å…³ç³»å›¾

```mermaid
graph TB
    subgraph "ğŸŒ å¤–éƒ¨è®¿é—®å±‚"
        Browser[ç”¨æˆ·æµè§ˆå™¨]
        APIClient[APIå®¢æˆ·ç«¯]
        Mobile[ç§»åŠ¨ç«¯åº”ç”¨]
    end
    
    subgraph "ğŸ”’ å®‰å…¨æ¥å…¥å±‚"
        LoadBalancer[è´Ÿè½½å‡è¡¡å™¨<br/>Nginx]
        SSL[SSLè¯ä¹¦<br/>HTTPSåŠ å¯†]
        Firewall[é˜²ç«å¢™<br/>è®¿é—®æ§åˆ¶]
    end
    
    subgraph "ğŸ¨ å‰ç«¯å±•ç¤ºå±‚"
        WebApp[Webåº”ç”¨<br/>Next.js + React]
        AdminPanel[ç®¡ç†åå°<br/>Django Admin]
        MonitorDash[ç›‘æ§é¢æ¿<br/>Grafana]
        DifyUI[AIå¹³å°ç•Œé¢<br/>Dify Web]
    end
    
    subgraph "ğŸ”— APIç½‘å…³å±‚"
        APIGateway[APIç½‘å…³<br/>Django REST API]
        AuthService[è®¤è¯æœåŠ¡<br/>JWT + OAuth]
        RateLimit[é™æµæ§åˆ¶<br/>Redis]
        APIDoc[APIæ–‡æ¡£<br/>Swagger/OpenAPI]
    end
    
    subgraph "ğŸ¤– åº”ç”¨ä¸­å°å±‚"
        DataPlatform[æ•°æ®ä¸­å°<br/>æ•°æ®å¤„ç†ä¸åˆ†æ]
        AlgoPlatform[ç®—æ³•ä¸­å°<br/>ML/AIç®—æ³•ç®¡ç†]
        ModelPlatform[æ¨¡å‹ä¸­å°<br/>æ¨¡å‹è®­ç»ƒä¸éƒ¨ç½²]
        ServicePlatform[æœåŠ¡ä¸­å°<br/>å¾®æœåŠ¡ç¼–æ’]
        DifyPlatform[AIå¹³å°<br/>å¯¹è¯/å·¥ä½œæµ/æ™ºèƒ½ä½“]
    end
    
    subgraph "ğŸ’¾ æ•°æ®å­˜å‚¨å±‚"
        PostgreSQL[å…³ç³»æ•°æ®åº“<br/>PostgreSQL]
        Redis[ç¼“å­˜æ•°æ®åº“<br/>Redis]
        MinIO[å¯¹è±¡å­˜å‚¨<br/>MinIO]
        VectorDB[å‘é‡æ•°æ®åº“<br/>Weaviate]
        MongoDB[æ–‡æ¡£æ•°æ®åº“<br/>MongoDB]
    end
    
    subgraph "ğŸ”¥ AIè®¡ç®—å±‚"
        LLMService[å¤§è¯­è¨€æ¨¡å‹<br/>Ollama/GPT]
        GPUCluster[GPUé›†ç¾¤<br/>æ¨ç†åŠ é€Ÿ]
        TritonServer[æ¨ç†æœåŠ¡å™¨<br/>Triton]
        MLPipeline[MLæµæ°´çº¿<br/>è®­ç»ƒ/æ¨ç†]
    end
    
    subgraph "ğŸ“Š ç›‘æ§è¿ç»´å±‚"
        Prometheus[æŒ‡æ ‡æ”¶é›†<br/>Prometheus]
        Grafana[å¯è§†åŒ–ç›‘æ§<br/>Grafana]
        AlertManager[å‘Šè­¦ç®¡ç†<br/>AlertManager]
        LogSystem[æ—¥å¿—ç³»ç»Ÿ<br/>ELK Stack]
    end
    
    subgraph "ğŸ³ åŸºç¡€è®¾æ–½å±‚"
        Docker[å®¹å™¨è¿è¡Œæ—¶<br/>Docker Engine]
        K8s[å®¹å™¨ç¼–æ’<br/>Kubernetes]
        Network[ç½‘ç»œç®¡ç†<br/>Docker Network]
        Storage[å­˜å‚¨ç®¡ç†<br/>Persistent Volume]
    end
    
    %% è¿æ¥å…³ç³»
    Browser --> LoadBalancer
    APIClient --> LoadBalancer
    Mobile --> LoadBalancer
    
    LoadBalancer --> SSL
    SSL --> Firewall
    Firewall --> WebApp
    Firewall --> AdminPanel
    Firewall --> MonitorDash
    Firewall --> DifyUI
    
    WebApp --> APIGateway
    AdminPanel --> APIGateway
    DifyUI --> DifyPlatform
    
    APIGateway --> AuthService
    APIGateway --> RateLimit
    APIGateway --> DataPlatform
    APIGateway --> AlgoPlatform
    APIGateway --> ModelPlatform
    APIGateway --> ServicePlatform
    
    DataPlatform --> PostgreSQL
    DataPlatform --> MongoDB
    DataPlatform --> MinIO
    
    AlgoPlatform --> PostgreSQL
    AlgoPlatform --> MinIO
    AlgoPlatform --> MLPipeline
    
    ModelPlatform --> PostgreSQL
    ModelPlatform --> MinIO
    ModelPlatform --> LLMService
    ModelPlatform --> GPUCluster
    ModelPlatform --> TritonServer
    
    ServicePlatform --> PostgreSQL
    ServicePlatform --> Redis
    
    DifyPlatform --> PostgreSQL
    DifyPlatform --> Redis
    DifyPlatform --> LLMService
    DifyPlatform --> VectorDB
    
    LLMService --> GPUCluster
    TritonServer --> GPUCluster
    MLPipeline --> GPUCluster
    
    Prometheus --> DataPlatform
    Prometheus --> AlgoPlatform
    Prometheus --> ModelPlatform
    Prometheus --> ServicePlatform
    Prometheus --> PostgreSQL
    Prometheus --> Redis
    Prometheus --> GPUCluster
    
    Grafana --> Prometheus
    AlertManager --> Prometheus
    MonitorDash --> Grafana
    
    Docker --> DataPlatform
    Docker --> AlgoPlatform
    Docker --> ModelPlatform
    Docker --> ServicePlatform
    Docker --> DifyPlatform
    Docker --> PostgreSQL
    Docker --> Redis
    Docker --> MinIO
    
    K8s --> Docker
    Network --> Docker
    Storage --> Docker
    
    %% æ ·å¼å®šä¹‰
    classDef external fill:#ffcdd2
    classDef security fill:#e8f5e8
    classDef frontend fill:#e1f5fe
    classDef api fill:#f3e5f5
    classDef platform fill:#fff3e0
    classDef data fill:#e0f2f1
    classDef ai fill:#f1f8e9
    classDef monitor fill:#fff8e1
    classDef infra fill:#fafafa
    
    class Browser,APIClient,Mobile external
    class LoadBalancer,SSL,Firewall security
    class WebApp,AdminPanel,MonitorDash,DifyUI frontend
    class APIGateway,AuthService,RateLimit,APIDoc api
    class DataPlatform,AlgoPlatform,ModelPlatform,ServicePlatform,DifyPlatform platform
    class PostgreSQL,Redis,MinIO,VectorDB,MongoDB data
    class LLMService,GPUCluster,TritonServer,MLPipeline ai
    class Prometheus,Grafana,AlertManager,LogSystem monitor
    class Docker,K8s,Network,Storage infra
```

---

## ğŸš¨ v2025.6 é‡è¦æ›´æ–°æ€»ç»“

### ğŸ”§ æ ¸å¿ƒæ¶æ„å˜æ›´
1. **ç«¯å£å†²çªè§£å†³**: 
   - ç«¯å£80: AIä¸­å°ç»Ÿä¸€å…¥å£ (nginxåå‘ä»£ç†)
   - ç«¯å£8080: Dify AIå¹³å° (ä»ç«¯å£80è¿ç§»)
   - ç«¯å£3002: Grafanaç›‘æ§ (ä»ç«¯å£3000è°ƒæ•´)

2. **ğŸ†• ç»Ÿä¸€è®¿é—®å…¥å£**: 
   - æ¨èé€šè¿‡ `http://192.168.110.88:80` è®¿é—®AIä¸­å°
   - åŒ…å«å‰ç«¯ã€åç«¯ã€ç®¡ç†åå°ã€APIæ–‡æ¡£

3. **ğŸ†• ç¯å¢ƒç®¡ç†ç³»ç»Ÿ**:
   - å¼€å‘/ç”Ÿäº§ç¯å¢ƒä¸€é”®åˆ‡æ¢: `./scripts/env-config.sh dev/prod`
   - è‡ªåŠ¨IPé…ç½®: localhost â†” 192.168.110.88
   - é…ç½®åŒæ­¥: å‰ç«¯ã€åç«¯ã€Dockeré…ç½®è‡ªåŠ¨åŒæ­¥

### ğŸ“‹ æ¥æ‰‹äººå‘˜å¿…è¯»
1. **ä¼˜å…ˆä½¿ç”¨ç»Ÿä¸€å…¥å£**: `http://192.168.110.88:80` 
2. **Dify AIå¹³å°**: `http://192.168.110.88:8080`
3. **ç›‘æ§é¢æ¿**: `http://192.168.110.88:3002`
4. **ç¯å¢ƒåˆ‡æ¢**: ä½¿ç”¨ `./scripts/env-config.sh status` æŸ¥çœ‹å½“å‰çŠ¶æ€
5. **ç«¯å£è¯´æ˜**: è¯¦è§ `/minimal-example/docs/PORT_CONFLICT_RESOLUTION.md`

### âš ï¸ å…³é”®æ³¨æ„äº‹é¡¹
- **ä¸è¦ç›´æ¥ä¿®æ”¹ç«¯å£é…ç½®**: ä½¿ç”¨æä¾›çš„è„šæœ¬è¿›è¡Œç¯å¢ƒç®¡ç†
- **ç”Ÿäº§ç¯å¢ƒè®¿é—®**: ç¡®ä¿ä½¿ç”¨ç«¯å£80ç»Ÿä¸€å…¥å£
- **é—®é¢˜æ’æŸ¥**: ä¼˜å…ˆæ£€æŸ¥ç«¯å£å†²çªå’Œç¯å¢ƒé…ç½®çŠ¶æ€
- **é…ç½®å¤‡ä»½**: ç¯å¢ƒåˆ‡æ¢ä¼šè‡ªåŠ¨å¤‡ä»½ï¼Œä½†å»ºè®®æ‰‹åŠ¨å¤‡ä»½é‡è¦é…ç½®

---

**ğŸ“š æ–‡æ¡£å®Œæˆæ—¥æœŸ**: 2025å¹´6æœˆ26æ—¥  
**ğŸ“‹ äº¤æ¥æ–‡æ¡£ç‰ˆæœ¬**: v2025.6  
**ğŸ¯ é¡¹ç›®çŠ¶æ€**: ç”Ÿäº§å°±ç»ªï¼Œç«¯å£å†²çªå·²è§£å†³  
**ğŸš€ å¿«é€Ÿå¼€å§‹**: `cd minimal-example && ./scripts/env-config.sh prod && ./quick-start.sh`
```
---

> ğŸ“ **æ–‡æ¡£ç»´æŠ¤è¯´æ˜**:  
> æœ¬æ–‡æ¡£éšç³»ç»Ÿéƒ¨ç½²è¿›å±•æŒç»­æ›´æ–°ã€‚å¦‚å‘ç°ä¿¡æ¯ä¸å‡†ç¡®æˆ–éœ€è¦è¡¥å……ï¼Œè¯·åŠæ—¶æ›´æ–°æ­¤æ–‡æ¡£ã€‚  
> ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰åŠ¡å¿…è¿›è¡Œå®Œæ•´çš„å®‰å…¨å®¡æŸ¥å’Œæµ‹è¯•éªŒè¯ã€‚
